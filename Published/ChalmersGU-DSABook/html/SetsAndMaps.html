
<!DOCTYPE html>




<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.4. Information retrieval: Sets and Maps &mdash; Data Structures and Algorithms</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/normalize.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/JSAV.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaMOD-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/jquery.ui.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaStyle-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/accessibility.css" type="text/css" />
    
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '0.4.1',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": {
        scale: "80"
      }
    });
  </script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="index" title="Data Structures and Algorithms" href="index.html" />
    <link rel="next" title="5. Comparables, Comparators and Key-Value Pairs" href="Comparison.html" />
    <link rel="prev" title="3. All ADTs Used in This Book" href="CourseAPI.html" />

  </head>

  <body>


      <div class="header">
        
  
      <script type="text/javascript" src="../../../lib/jquery.min.js"></script>
      <script type="text/javascript" src="../../../lib/jquery.migrate.min.js"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/localforage/1.9.0/localforage.min.js"></script>
      <script type="text/javascript" src="../../../lib/accessibility.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.ui.min.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.transit.js"></script>
    <script type="text/javascript" src="../../../lib/raphael.js"></script>
    <script type="text/javascript" src="../../../lib/JSAV-min.js"></script>
    <script type="text/javascript" src="_static/config.js"></script>
    <script type="text/javascript" src="../../../lib/timeme-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaUtils-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaMOD-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <script type="text/javascript" src="../../../lib/dataStructures.js"></script>
    <script type="text/javascript" src="../../../lib/conceptMap.js"></script>

        
<a id="username-link" style="float:right;color:red;margin:10px 20px auto; display: none" class="username-link" href="Gradebook.html"></a>
<a id="login-link" style="float:right;color:red;margin:10px 20px auto" class="login-link" href="#"><Macro 'login'></a>
<div id="login-box" class="login-popup">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <label class="username">
        <span>Username</span>
        <input id="username" value="" type="text" autocomplete="on" placeholder="Username" tabindex="1">
      </label>
      <label class="password">
        <span>Password</span>
        <input id="password" value="" type="password" placeholder="Password" tabindex="2">
        <span><a id="forgot" href="#">Forgot your password?</a></span>
      </label>

      <p>
        <input type="submit" id="login-submit-button" value="Sign in" tabindex="3" />
      </p>
      <p>
        <input type="button" id="register-button" value="Register" tabindex="4" />
      </p>
    </fieldset>
  </form>
</div>

        
<a id="registration-link" style="float:right;color:red;margin:10px 20px auto" class="registration-link" href="#">Register</a>
<div id="registration-box" class="registration-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <div id="register_error" class="error"></div>
      <label class="username">
        <span>Username:</span>
        <input type="text" id="user" placeholder="Username" />
      </label>

      <label class="password">
        <span>Password</span>
        <input id="pass" type="password" placeholder="Password" />
      </label>

      <label class="password">
        <span>Confirm Password</span>
        <input id="rpass" type="password" placeholder="Confirm Password" />
      </label>

      <label class="email">
        <span>Email:</span>
        <input type="text" id="email" placeholder="Email">
      </label>

      <p>
        <input type="submit" id="register-submit-button" value="Register &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>
<img class="leftlogo" src="_static/OpenDSALogoT64.png" alt="Logo"/><div class="title-wrapper">
          <div class="title-inbetween" style="display: table-cell; vertical-align: middle;">
            <div class="title-content">
              <h1 class="heading" ><a href="index.html">
                <span>Data Structures and Algorithms</span></a></h1>
              <h2 class="heading" ><span>Chapter 1 Introduction</span></h2>
            </div>
          </div>
        </div>
      </div>
      <div class="topnav">
        <p>
            <a style="float:left;color:blue;" href="../source/SetsAndMaps.rst.rst"
              target="_blank" rel="nofollow">Show Source | </a>&#160;&#160;
            <a class="abt" style="float:left;color:blue;" href="#" rel="nofollow">| About</a>&#160;&#160;

          
        «&#160;&#160;<a id="prevmod" href="CourseAPI.html">1.<span class="section-number">3. </span>All ADTs Used in This Book</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod" href="Comparison.html">1.<span class="section-number">5. </span>Comparables, Comparators and Key-Value Pairs</a>&#160;&#160;»


        </p>
      </div>
       
      <div class="content">
        
  <script>ODSA.SETTINGS.MODULE_SECTIONS = ['spell-checking:-sets', 'database-lookup:-maps', 'search-engine:-multimaps', 'between-x-and-y:-sorted-sets-and-maps', 'how-to-implement-sets-and-maps'];</script><script>ODSA.SETTINGS.DISP_MOD_COMP = true;ODSA.SETTINGS.MODULE_NAME = "SetsAndMaps";ODSA.SETTINGS.MODULE_LONG_NAME = "Information retrieval: Sets and Maps";ODSA.SETTINGS.MODULE_CHAPTER = "Introduction"; ODSA.SETTINGS.BUILD_DATE = "2022-01-24 00:21:11"; ODSA.SETTINGS.BUILD_CMAP = true;JSAV_OPTIONS['lang']='en';JSAV_EXERCISE_OPTIONS['code']='pseudo';</script><div class="section" id="information-retrieval-sets-and-maps">
<h1>1.<span class="section-number">4. </span>Information retrieval: Sets and Maps<a class="headerlink" href="#information-retrieval-sets-and-maps" title="Permalink to this headline">¶</a></h1>
<p>Many programming tasks involve <em>finding the right piece of
information</em> in a large dataset. That is, we have a collection of
items, and we want to quickly retrieve the items matching certain
criteria. Here are some examples of information retrieval problems:</p>
<ul class="simple">
<li><p><em>Spell-checking:</em>
Given a set containing all valid English words, check if a given
string is present in the set (i.e. is a valid word).</p></li>
<li><p><em>Database lookup:</em>
Given a list of people, find the person with a given <em>personnummer</em>.</p></li>
<li><p><em>Search engine:</em>
Given a collection of documents (e.g. web pages), find all web
pages containing a given word.</p></li>
<li><p><em>Between X and Y:</em>
Given a list of all Swedish towns and their populations, find
the towns whose population is between 1,000 and 2,000.</p></li>
</ul>
<p>All of these problems can be solved using two ADTs, the <em>set</em> and the
<em>map</em>. Both ADTs can be used to maintain a collection of <em>records</em>.
They provide operations for finding records, adding records, and
removing records from the collection. In this section we will see what
sets and maps are, and how to use them to solve the four problems
above.</p>
<p>You may have already used sets and maps in programming, because almost
every programming language provides an implementation for them.
For example, Java provides the <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/index.html?java/util/HashSet.html">HashSet</a> and <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/index.html?java/util/HashMap.html">HashMap</a> classes,
and Python provides <a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#sets">sets</a> and <a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">dictionaries</a> (another word for maps)
as part of its standard library.</p>
<div class="section" id="spell-checking-sets">
<h2>1.<span class="section-number">4.1. </span>Spell-checking: Sets<a class="headerlink" href="#spell-checking-sets" title="Permalink to this headline">¶</a></h2>
<p>A <em>set</em> represents a collection of items, where we can <em>add</em> and
<em>remove</em> items, and <em>check</em> if a given item is present in the set.
A set cannot contain duplicate items: if we try to add an item that is
already present, nothing happens, and the set is left unchanged.
Recall the interface for sets from <a class="reference internal" href="CourseAPI.html#courseapi"><span class="std std-ref">the course API</span></a>:</p>
<div id="API_SetADT_code"><ul><li><a href="#API_SetADT_code_Java_Generic">Java</a></li><li><a href="#API_SetADT_code_Python">Python</a></li></ul><div id="API_SetADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.Set</span>
<span class="kd">interface</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kt">boolean</span> <span class="nf">add</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>       <span class="c1">// Adds x to the set. Returns true if the element wasn&#39;t already in the set.</span>
    <span class="kt">boolean</span> <span class="nf">remove</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>    <span class="c1">// Removes x from the set. Returns true if the element was in the set.</span>
    <span class="kt">boolean</span> <span class="nf">contains</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>  <span class="c1">// Returns true if x is in the set.</span>
    <span class="c1">// Note: iterator() can yield the elements in any order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_SetADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Set</span><span class="p">(</span><span class="n">Collection</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>      <span class="s2">&quot;&quot;&quot;Adds x to the set. Returns true if the element wasn&#39;t already in the set.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>   <span class="s2">&quot;&quot;&quot;Removes x from the set. Returns true if the element was in the set.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns true if x is in the set.&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() can yield the elements in any order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_SetADT_code" ).tabs();});</script><p>We can use a set for the spell-checking example:</p>
<ul class="simple">
<li><p>Given a set containing all valid English words, check if a given
string is present in the set (i.e. is a valid word).</p></li>
</ul>
<p>To create the spell-checking dictionary, we start with an initially
empty set, and then call <code class="docutils literal notranslate"><span class="pre">add</span></code> repeatedly to add each valid word to
the set.  Then to spell-check a given word, we just call <code class="docutils literal notranslate"><span class="pre">contains</span></code>.</p>
<div id="SpellChecker_SpellChecker_code"><ul><li><a href="#SpellChecker_SpellChecker_code_Java_Generic">Java</a></li><li><a href="#SpellChecker_SpellChecker_code_Python">Python</a></li></ul><div id="SpellChecker_SpellChecker_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">SpellChecker</span> <span class="p">{</span>
    <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">set_of_valid_words</span><span class="p">;</span>

    <span class="n">SpellChecker</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">list_of_valid_words</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Convert the list of words into a set.</span>
        <span class="n">set_of_valid_words</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span> <span class="p">:</span> <span class="n">list_of_valid_words</span><span class="p">)</span>
            <span class="n">set_of_valid_words</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">is_valid_word</span><span class="p">(</span><span class="n">String</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">set_of_valid_words</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[]</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Create a new spell checker.</span>
        <span class="n">SpellChecker</span> <span class="n">checker</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SpellChecker</span><span class="p">(</span><span class="k">new</span> <span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="s">&quot;cat&quot;</span><span class="p">,</span> <span class="s">&quot;dog&quot;</span><span class="p">});</span>

        <span class="c1">// Select some words to spell check. </span>
        <span class="c1">// If there are no command-line arguments, default to testing &quot;dog&quot; and &quot;kat&quot;.</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">list_of_words_to_check</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">args</span> <span class="p">:</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="s">&quot;dog&quot;</span><span class="p">,</span> <span class="s">&quot;kat&quot;</span><span class="p">};</span>  

        <span class="c1">// Now we can spell-check a word easily.</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span> <span class="p">:</span> <span class="n">list_of_words_to_check</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">checker</span><span class="p">.</span><span class="na">is_valid_word</span><span class="p">(</span><span class="n">word</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">word</span> <span class="o">+</span> <span class="s">&quot; is valid&quot;</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">word</span> <span class="o">+</span> <span class="s">&quot; is INVALID&quot;</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="SpellChecker_SpellChecker_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SpellChecker</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_of_valid_words</span><span class="p">):</span>
        <span class="c1"># Convert the list of words into a set.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_of_valid_words</span> <span class="o">=</span> <span class="n">Set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">list_of_valid_words</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_of_valid_words</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_valid_word</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_of_valid_words</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># Create a new spell checker.</span>
    <span class="n">checker</span> <span class="o">=</span> <span class="n">SpellChecker</span><span class="p">([</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">])</span>

    <span class="c1"># Select some words to spell check. </span>
    <span class="c1"># If there are no command-line arguments, default to testing &quot;dog&quot; and &quot;kat&quot;.</span>
    <span class="n">list_of_words_to_check</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="p">[</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;kat&quot;</span><span class="p">]</span>

    <span class="c1"># Now we can spell-check a word easily.</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">list_of_words_to_check</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">checker</span><span class="o">.</span><span class="n">is_valid_word</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;is valid&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="s2">&quot;is INVALID&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#SpellChecker_SpellChecker_code" ).tabs();});</script></div>
<div class="section" id="database-lookup-maps">
<h2>1.<span class="section-number">4.2. </span>Database lookup: Maps<a class="headerlink" href="#database-lookup-maps" title="Permalink to this headline">¶</a></h2>
<p>A <em>map</em> represents a set of <em>keys</em>, where each key has an associated
<em>value</em>. We can <em>add</em> and <em>remove</em> keys, but when we add a key we must
specify what <em>value</em> we want to associated with it. We can <em>check</em> if
a given key is present in the map. We can also <em>look up</em> a key to find
the associated value.</p>
<p>A map cannot contain duplicate <em>keys</em>, so each key is associated with
exactly one value. If we call <code class="docutils literal notranslate"><span class="pre">put(k,v)</span></code>, but the key <code class="docutils literal notranslate"><span class="pre">k</span></code> is
already present, then the value associated with <code class="docutils literal notranslate"><span class="pre">k</span></code> gets changed to
<code class="docutils literal notranslate"><span class="pre">v</span></code>. On the other hand, a map <em>can</em> contain duplicate <em>values</em>: two
keys can have the same value.
Recall the interface for maps from <a class="reference internal" href="CourseAPI.html#courseapi"><span class="std std-ref">the course API</span></a>:</p>
<div id="API_MapADT_code"><ul><li><a href="#API_MapADT_code_Java_Generic">Java</a></li><li><a href="#API_MapADT_code_Python">Python</a></li></ul><div id="API_MapADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.Map, where</span>
<span class="c1">// `iterator` iterates over the keys, and replaces the more complicated `keySet`.</span>
<span class="kd">interface</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">K</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">V</span> <span class="nf">put</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">,</span> <span class="n">V</span> <span class="n">value</span><span class="p">);</span>       <span class="c1">// Sets the value of the given key. Returns the previous value, or null.</span>
    <span class="n">V</span> <span class="nf">get</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>                <span class="c1">// Returns the value associated with the given key, or null if the key is not there.</span>
    <span class="n">V</span> <span class="nf">remove</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>             <span class="c1">// Removes and returns the value associated with the given key, or null if there is no key.</span>
    <span class="kt">boolean</span> <span class="nf">containsKey</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>  <span class="c1">// Returns true if the key has an associated value.</span>
    <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="p">();</span>           <span class="c1">// Returns true if there are no keys.</span>
    <span class="kt">int</span> <span class="nf">size</span><span class="p">();</span>                  <span class="c1">// Returns the number of keys (i.e., the number of key/value pairs).</span>
    <span class="c1">// Note: iterator() can yield the keys in any order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_MapADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Map</span><span class="p">(</span><span class="n">Iterable</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>  <span class="s2">&quot;&quot;&quot;Sets the value of the given key. Returns the previous value, or None.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>         <span class="s2">&quot;&quot;&quot;Returns the value associated with the given key, or None if the key is not there.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>      <span class="s2">&quot;&quot;&quot;Removes and returns the value associated with the given key, or None if there is no key.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">containsKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns true if the key has an associated value.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>          <span class="s2">&quot;&quot;&quot;Returns true if there are no keys.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>             <span class="s2">&quot;&quot;&quot;Returns the number of keys (i.e., the number of key/value pairs).&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() can yield the keys in any order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_MapADT_code" ).tabs();});</script><p>The map is a perfect match for our database example:</p>
<ul class="simple">
<li><p>Given a list of people, find the person with a given <em>personnummer</em>.</p></li>
</ul>
<p>Here, the key should be a personnummer, and the value should be a
record containing information about that person. If the personnummer
is stored in a field <code class="docutils literal notranslate"><span class="pre">pnr</span></code>, then to put a person <code class="docutils literal notranslate"><span class="pre">p</span></code> in the database we call
<code class="docutils literal notranslate"><span class="pre">database.put(p.pnr,</span> <span class="pre">p)</span></code>.  To find the person with personnummer <code class="docutils literal notranslate"><span class="pre">pnr</span></code> we
call <code class="docutils literal notranslate"><span class="pre">database.get(pnr)</span></code>.</p>
<div id="PersonDatabase_Database_code"><ul><li><a href="#PersonDatabase_Database_code_Java_Generic">Java</a></li><li><a href="#PersonDatabase_Database_code_Python">Python</a></li></ul><div id="PersonDatabase_Database_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">pnr</span><span class="p">;</span>    <span class="c1">// personnummer</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">name</span><span class="p">;</span>   <span class="c1">// person&#39;s name</span>

    <span class="n">Person</span><span class="p">(</span><span class="n">String</span> <span class="n">pnr</span><span class="p">,</span> <span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">pnr</span> <span class="o">=</span> <span class="n">pnr</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">PersonDatabase</span> <span class="p">{</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Person</span><span class="o">&gt;</span> <span class="n">database</span><span class="p">;</span>
    <span class="n">PersonDatabase</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">database</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">// Put the person in the database.</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">put</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">database</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">pnr</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Remove a person from the database.</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">remove</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">database</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">pnr</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Find the person who has a given personnummer.</span>
    <span class="kd">public</span> <span class="n">Person</span> <span class="nf">find</span><span class="p">(</span><span class="n">String</span> <span class="n">pnr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">database</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">pnr</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="PersonDatabase_Database_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pnr</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pnr</span>  <span class="o">=</span> <span class="n">pnr</span>    <span class="c1"># personnummer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>   <span class="c1"># person&#39;s name</span>

<span class="k">class</span> <span class="nc">PersonDatabase</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">Map</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Put the person in the database.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">pnr</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove a person from the database.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">pnr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pnr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Find the person who has a given personnummer.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pnr</span><span class="p">)</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#PersonDatabase_Database_code" ).tabs();});</script></div>
<div class="section" id="search-engine-multimaps">
<h2>1.<span class="section-number">4.3. </span>Search engine: Multimaps<a class="headerlink" href="#search-engine-multimaps" title="Permalink to this headline">¶</a></h2>
<p>Maps have the restriction that each key has only one value. However,
sometimes we want to store a list of records, where some records might
have the same key. Then we want something like a map, but where a key
can have multiple values associated with it. This structure is called
a <em>multimap</em>.</p>
<p>Unfortunately, most programming languages do not provide a multimap
data structure. Instead, we can implement it ourselves. The idea is to
use a map, where the key is a word, and the value is not a document
but a <em>set</em> of documents.</p>
<p>A multimap is the perfect data structure for our search engine
example:</p>
<ul class="simple">
<li><p>Given a collection of documents (e.g. web pages), find all web
pages containing a given word.</p></li>
</ul>
<p>To find all documents containing a given word, we will build a
multimap, where the key is a word, and the values are all documents
containing that word. Then, searching for a word will just mean
looking it up in the multimap.</p>
<div id="SearchEngine_SearchEngine_code"><ul><li><a href="#SearchEngine_SearchEngine_code_Java_Generic">Java</a></li><li><a href="#SearchEngine_SearchEngine_code_Python">Python</a></li></ul><div id="SearchEngine_SearchEngine_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// We model a document as a list of words.</span>
<span class="kd">class</span> <span class="nc">Document</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="n">String</span><span class="o">[]</span> <span class="n">contents</span><span class="p">;</span>
    <span class="n">Document</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">contents</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">contents</span> <span class="o">=</span> <span class="n">contents</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">SearchEngine</span> <span class="p">{</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;&gt;</span> <span class="n">database</span><span class="p">;</span>
    <span class="n">SearchEngine</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">database</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">// Add a new document to the database.</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="p">(</span><span class="n">Document</span> <span class="n">doc</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span> <span class="p">:</span> <span class="n">doc</span><span class="p">.</span><span class="na">contents</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Get the set of documents containing this word.</span>
            <span class="n">Set</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">database</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">set</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> 
                <span class="c1">// This is the first document containing this word.</span>
                <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>

            <span class="c1">// Add the document to the set.</span>
            <span class="n">set</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">doc</span><span class="p">);</span>
            <span class="n">database</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">set</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// Find all documents containing a given word.</span>
    <span class="kd">public</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span> <span class="nf">find</span><span class="p">(</span><span class="n">String</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">database</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="n">word</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">database</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
        <span class="k">else</span>
            <span class="c1">// If the word is not found, return an empty set rather than null.</span>
            <span class="k">return</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="SearchEngine_SearchEngine_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># We model a document as a list of words.</span>
<span class="k">class</span> <span class="nc">Document</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contents</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">contents</span>

<span class="k">class</span> <span class="nc">SearchEngine</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">Map</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a new document to the database.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="c1"># Get the set of documents containing this word.</span>
            <span class="nb">set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># This is the first document containing this word.</span>
                <span class="nb">set</span> <span class="o">=</span> <span class="n">Set</span><span class="p">()</span>

            <span class="c1"># Add the document to the set.</span>
            <span class="nb">set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="nb">set</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Find all documents containing a given word.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">containsKey</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If the word is not found, return an empty set rather than None.</span>
            <span class="k">return</span> <span class="n">Set</span><span class="p">()</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#SearchEngine_SearchEngine_code" ).tabs();});</script></div>
<div class="section" id="between-x-and-y-sorted-sets-and-maps">
<h2>1.<span class="section-number">4.4. </span>Between X and Y: Sorted Sets and Maps<a class="headerlink" href="#between-x-and-y-sorted-sets-and-maps" title="Permalink to this headline">¶</a></h2>
<p>Consider the final example problem:</p>
<ul class="simple">
<li><p>Given a list of all Swedish towns and their populations, find
the towns whose population is between 1,000 and 2,000.</p></li>
</ul>
<p>One way to solve this problem would be to use a multimap. The key
would be a population number, and the values would be all towns having
that population. Then we could find the required towns by making a
sequence of calls to <code class="docutils literal notranslate"><span class="pre">contains</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">contains(1000)</span></code> - find all towns with 1,000 population</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contains(1001)</span></code> - find all towns with 1,001 population</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contains(1002)</span></code> - find all towns with 1,002 population</p></li>
<li><p>etc.</p></li>
</ul>
<p>But this is not a sensible approach. We would need to make ~1,000
calls to <code class="docutils literal notranslate"><span class="pre">contains</span></code>, and if we wanted to instead find all cities in
the USA having a population of between 1 and 2 million, we would need
to make ~1,000,000 calls.</p>
<p>There is a better way. If the towns are stored in an array, and sorted
by population, we can use the following algorithm:</p>
<ul class="simple">
<li><p>Find the position in the array of the <em>first</em> town that has a
population of <em>at least</em> 1,000. (We will see in the section about
<a class="reference internal" href="BinarySearch.html#binarysearch"><span class="std std-ref">binary search</span></a>
that it is possible to find this position efficiently.)</p></li>
<li><p>Find the position in the array of the <em>last</em> town that has a
population of <em>at most</em> 2,000.</p></li>
<li><p>Now return all towns between those two positions in the array.</p></li>
</ul>
<p>This is an example of a <em>range query</em>: given a map, finding all items
whose key lies in a given range. Some map implementations support
answering range queries efficiently; we say that these data structures
implement <em>sorted maps</em>.</p>
<p>Apart from range queries, sorted maps support several other operations
that take advantage of the natural order of the keys:</p>
<ul>
<li><p>Finding the <em>smallest</em> or <em>largest</em> key in the map.</p></li>
<li><p>Finding the <em>closest</em> key to a given one. Given a key <span class="math notranslate nohighlight">\(k\)</span>
(which may or may not be in the map), then:</p>
<ul class="simple">
<li><p>The <em>successor</em> of <span class="math notranslate nohighlight">\(k\)</span> is the next key after <span class="math notranslate nohighlight">\(k\)</span> in
the map, i.e. the smallest key <span class="math notranslate nohighlight">\(k\prime\)</span> such that
<span class="math notranslate nohighlight">\(k &lt; k\prime\)</span>.</p></li>
<li><p>The <em>predecessor</em> of <span class="math notranslate nohighlight">\(k\)</span> is the previous key before
<span class="math notranslate nohighlight">\(k\)</span> in the map, i.e. the greatest key <span class="math notranslate nohighlight">\(k\prime\)</span> such
that <span class="math notranslate nohighlight">\(k\prime &lt; k\)</span>.</p></li>
</ul>
<p>A variant which is sometimes useful is <em>floor</em> and <em>ceiling</em>:</p>
<ul class="simple">
<li><p>The <em>floor</em> of <span class="math notranslate nohighlight">\(k\)</span> is the greatest key <span class="math notranslate nohighlight">\(k\prime\)</span>
such that <span class="math notranslate nohighlight">\(k\prime \leq k\)</span>. If <span class="math notranslate nohighlight">\(k\)</span> is in the map,
then the floor of <span class="math notranslate nohighlight">\(k\)</span> is just <span class="math notranslate nohighlight">\(k\)</span>; otherwise it is the
predecessor of <span class="math notranslate nohighlight">\(k\)</span>.</p></li>
<li><p>The <em>ceiling</em> of <span class="math notranslate nohighlight">\(k\)</span> is the least key <span class="math notranslate nohighlight">\(k\prime\)</span>
such that <span class="math notranslate nohighlight">\(k \leq k\prime\)</span>. If <span class="math notranslate nohighlight">\(k\)</span> is in the map,
then the ceiling of <span class="math notranslate nohighlight">\(k\)</span> is just <span class="math notranslate nohighlight">\(k\)</span>; otherwise it is the
successor of <span class="math notranslate nohighlight">\(k\)</span>.</p></li>
</ul>
</li>
</ul>
<p>Recall the interface for sorted maps from <a class="reference internal" href="CourseAPI.html#courseapi"><span class="std std-ref">the course API</span></a>:</p>
<div id="API_SortedMapADT_code"><ul><li><a href="#API_SortedMapADT_code_Java_Generic">Java</a></li><li><a href="#API_SortedMapADT_code_Python">Python</a></li></ul><div id="API_SortedMapADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.SortedMap, where</span>
<span class="c1">// `floorKey` and `ceilingKey` are borrowed from java.util.NavigableMap.</span>
<span class="kd">interface</span> <span class="nc">SortedMap</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">K</span> <span class="nf">firstKey</span><span class="p">();</span>                         <span class="c1">// Returns the first (smallest) key. Raises an exception if the map is empty.</span>
    <span class="n">K</span> <span class="nf">lastKey</span><span class="p">();</span>                          <span class="c1">// Returns the last (largest) key. Raises an exception if the map is empty.</span>
    <span class="n">K</span> <span class="nf">floorKey</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>                    <span class="c1">// Returns the closest key &lt;= k, or null if there is no key.</span>
    <span class="n">K</span> <span class="nf">ceilingKey</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>                  <span class="c1">// Returns the closest key &gt;= k, or null if there is no key.</span>
    <span class="n">K</span> <span class="nf">lowerKey</span><span class="p">(</span><span class="n">K</span> <span class="n">k</span><span class="p">);</span>                      <span class="c1">// Returns the closest key &lt; k, or null if there is no such element.</span>
    <span class="n">K</span> <span class="nf">higherKey</span><span class="p">(</span><span class="n">K</span> <span class="n">k</span><span class="p">);</span>                     <span class="c1">// Returns the closest key &gt; k, or null if there is no such element.</span>
    <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">K</span><span class="o">&gt;</span> <span class="nf">keysBetween</span><span class="p">(</span><span class="n">K</span> <span class="n">k1</span><span class="p">,</span> <span class="n">K</span> <span class="n">k2</span><span class="p">);</span>  <span class="c1">// Returns all keys such that k1 &lt;= k &lt;= k2.</span>
    <span class="c1">// Note: iterator() should yield the keys in order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_SortedMapADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SortedMap</span><span class="p">(</span><span class="n">Map</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">firstKey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>                <span class="s2">&quot;&quot;&quot;Returns the first (smallest) key. Raises an exception if the map is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">lastKey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>                 <span class="s2">&quot;&quot;&quot;Returns the last (largest) key. Raises an exception if the map is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">floorKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>           <span class="s2">&quot;&quot;&quot;Returns the closest key &lt;= k, or None if there is no key.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">ceilingKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>         <span class="s2">&quot;&quot;&quot;Returns the closest key &gt;= k, or None if there is no key.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">lowerKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>           <span class="s2">&quot;&quot;&quot;Returns the closest key &lt; k, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">higherKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>          <span class="s2">&quot;&quot;&quot;Returns the closest key &gt; k, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">keysBetween</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key1</span><span class="p">,</span> <span class="n">key2</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns all keys k such that k1 &lt;= k &lt;= k2.&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() should yield the keys in order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_SortedMapADT_code" ).tabs();});</script><p>As well as a sorted map, it is also possible to have a <em>sorted set</em>.
Recall the interface for sorted sets from <a class="reference internal" href="CourseAPI.html#courseapi"><span class="std std-ref">the course API</span></a>:</p>
<div id="API_SortedSetADT_code"><ul><li><a href="#API_SortedSetADT_code_Java_Generic">Java</a></li><li><a href="#API_SortedSetADT_code_Python">Python</a></li></ul><div id="API_SortedSetADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.SortedSet, where</span>
<span class="c1">// `floor` and `ceiling` are borrowed from java.util.NavigableSet.</span>
<span class="kd">interface</span> <span class="nc">SortedSet</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">E</span> <span class="nf">first</span><span class="p">();</span>                        <span class="c1">// Returns the first (smallest) element. Raises an exception if the set is empty.</span>
    <span class="n">E</span> <span class="nf">last</span><span class="p">();</span>                         <span class="c1">// Returns the last (largest) element. Raises an exception if the set is empty.</span>
    <span class="n">E</span> <span class="nf">floor</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>                     <span class="c1">// Returns the closest element &lt;= x, or null if there is no such element.</span>
    <span class="n">E</span> <span class="nf">ceiling</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>                   <span class="c1">// Returns the closest element &gt;= x, or null if there is no such element.</span>
    <span class="n">E</span> <span class="nf">lower</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>                     <span class="c1">// Returns the closest element &lt; x, or null if there is no such element.</span>
    <span class="n">E</span> <span class="nf">higher</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>                    <span class="c1">// Returns the closest element &gt; x, or null if there is no such element.</span>
    <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="nf">between</span><span class="p">(</span><span class="n">E</span> <span class="n">x1</span><span class="p">,</span> <span class="n">E</span> <span class="n">x2</span><span class="p">);</span>  <span class="c1">// Returns all elements x such that x1 &lt;= x &lt;= x2.</span>
    <span class="c1">// Note: iterator() should yield the elements in order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_SortedSetADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SortedSet</span><span class="p">(</span><span class="n">Set</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>            <span class="s2">&quot;&quot;&quot;Returns the first (smallest) element. Raises an exception if the set is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>             <span class="s2">&quot;&quot;&quot;Returns the last (largest) element. Raises an exception if the set is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">floor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>         <span class="s2">&quot;&quot;&quot;Returns the closest element &lt;= x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">ceiling</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>       <span class="s2">&quot;&quot;&quot;Returns the closest element &gt;= x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">lower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>         <span class="s2">&quot;&quot;&quot;Returns the closest element &lt; x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">higher</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>        <span class="s2">&quot;&quot;&quot;Returns the closest element &gt; x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">between</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">):</span>  <span class="s2">&quot;&quot;&quot;Returns all elements x such that x1 &lt;= x &lt;= x2.&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() should yield the elements in order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_SortedSetADT_code" ).tabs();});</script><p>Here is how to use a sorted map ADT to find all Swedish towns having
between 1,000 and 2,000 population. As there may be towns that have
the same population, we need a <em>multimap</em>. As before, we solve this by
having the key be a population number and the value be a set of towns.</p>
<div id="CityPopulations_CityPopulations_code"><ul><li><a href="#CityPopulations_CityPopulations_code_Java_Generic">Java</a></li><li><a href="#CityPopulations_CityPopulations_code_Python">Python</a></li></ul><div id="CityPopulations_CityPopulations_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">City</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="n">name</span><span class="p">;</span>
    <span class="kd">public</span> <span class="n">Integer</span> <span class="n">population</span><span class="p">;</span>
    <span class="n">City</span><span class="p">(</span><span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="n">Integer</span> <span class="n">population</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="na">population</span> <span class="o">=</span> <span class="n">population</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">CityPopulations</span> <span class="p">{</span>
    <span class="c1">// Similar to the search engine, use a map where the value is a list of cities.</span>
    <span class="n">SortedTreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">City</span><span class="o">&gt;&gt;</span> <span class="n">cities</span><span class="p">;</span>
    <span class="n">CityPopulations</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">cities</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SortedTreeMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">// Add a new city to the database.</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="p">(</span><span class="n">City</span> <span class="n">city</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Get the set of documents containing this city.</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">City</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">cities</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">city</span><span class="p">.</span><span class="na">population</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">set</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span>
            <span class="c1">// This is the first city with this population</span>
            <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>

        <span class="c1">// Add the city to the set</span>
        <span class="n">set</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">city</span><span class="p">);</span>
        <span class="n">cities</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">city</span><span class="p">.</span><span class="na">population</span><span class="p">,</span> <span class="n">set</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Find all cities with a population between lower and upper.</span>
    <span class="kd">public</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">City</span><span class="o">&gt;</span> <span class="nf">findBetween</span><span class="p">(</span><span class="n">Integer</span> <span class="n">lower</span><span class="p">,</span> <span class="n">Integer</span> <span class="n">upper</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">City</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="c1">// The range query returns a set of keys, i.e. populations.</span>
        <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">cities</span><span class="p">.</span><span class="na">keysBetween</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">);</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">Integer</span> <span class="n">population</span> <span class="o">=</span> <span class="n">it</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
            <span class="c1">// cities.get(population) returns the list of cities with that population.</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">City</span> <span class="n">city</span> <span class="p">:</span> <span class="n">cities</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">population</span><span class="p">))</span>
                <span class="n">result</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">city</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="CityPopulations_CityPopulations_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">City</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">population</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="n">population</span>

<span class="k">class</span> <span class="nc">CityPopulations</span><span class="p">:</span>
    <span class="c1"># Similar to the search engine, use a map where the value is a list of cities.</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cities</span> <span class="o">=</span> <span class="n">SortedMap</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a new city to the database.&quot;&quot;&quot;</span>
        <span class="c1"># Get the set of documents containing this city</span>
        <span class="nb">set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cities</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">city</span><span class="o">.</span><span class="n">population</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># This is the first city with this population</span>
            <span class="nb">set</span> <span class="o">=</span> <span class="n">Set</span><span class="p">()</span>

        <span class="c1"># Add the city to the set</span>
        <span class="nb">set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">city</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cities</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">city</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="nb">set</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">findBetween</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Find all cities with a population between lower and upper&quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Set</span><span class="p">()</span>
        <span class="c1"># The range query returns a set of keys, i.e. populations.</span>
        <span class="k">for</span> <span class="n">population</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cities</span><span class="o">.</span><span class="n">keysBetween</span><span class="p">(</span><span class="n">lower</span><span class="p">,</span> <span class="n">upper</span><span class="p">):</span>
            <span class="c1"># cities.get(population) returns the list of cities with that population.</span>
            <span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cities</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">population</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">city</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#CityPopulations_CityPopulations_code" ).tabs();});</script></div>
<div class="section" id="how-to-implement-sets-and-maps">
<h2>1.<span class="section-number">4.5. </span>How to implement sets and maps<a class="headerlink" href="#how-to-implement-sets-and-maps" title="Permalink to this headline">¶</a></h2>
<p>Sets and maps are useful in a huge variety of computer programs, and
are perhaps the most useful of all data structures. But how can we
design a class that implements a set or a map, in such a way that
adding, removing and searching can be done efficiently? In this book
we will see several different ways of implementing sets and maps.</p>
<p>In Chapter <a href="ArraysIntro.html">Arrays: Searching and Sorting</a>, we will see how to
implement a set using an array. By sorting the items in the array, it
is possible to look up information efficiently. However, it turns out
that adding and removing items is quite expensive. An array is a
suitable way of storing a set or a map if its contents never changes.</p>
<p>In Chapter <a href="BSTIntro.html">Search Trees</a>,
we learn about <em>balanced binary search trees (BSTs)</em>,
a data structure for sets and maps where adding, removing and
searching are all efficient. BSTs also support the <em>sorted map</em>
operations that we used in our final example.</p>
<p>In Chapter <a href="HashIntro.html">Hash Tables</a>, we learn about <em>hash tables</em>, another way
to implement the set and map ADTs. In a hash table, <code class="docutils literal notranslate"><span class="pre">add</span></code>,
<code class="docutils literal notranslate"><span class="pre">remove</span></code> and <code class="docutils literal notranslate"><span class="pre">contains</span></code> are even faster than in a BST, but hash
tables are somewhat harder to use than BSTs, and do not support the
<em>sorted map</em> operations.</p>
<p>Balanced BSTs and hash tables are the main ways that sets and maps are
implemented in practice. Almost every programming language provides sets
and maps as a built-in feature, based on one of these technologies.
For example, Java’s <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/index.html?java/util/HashSet.html">HashSet</a>, <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/index.html?java/util/HashMap.html">HashMap</a>, <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/index.html?java/util/TreeSet.html">TreeSet</a> and <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/index.html?java/util/TreeMap.html">TreeMap</a>, and
Python’s: <a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#sets">sets</a> and <a class="reference external" href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">dictionaries</a>. By the end of this book you will
understand how all of these work.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      <p><span class="email_div" style="display:inline;"><a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a><a style="float:left;color:blue;" rel="nofollow" href="../../../lib/Privacy.html" target="_blank">| Privacy |</a> <a style="float:left;color:blue;" rel="nofollow" href="../../../lib/license.html" target="_blank">| License</a></span>&#160;&#160;
      
        «&#160;&#160;<a id="prevmod1" href="CourseAPI.html">1.<span class="section-number">3. </span>All ADTs Used in This Book</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod1" href="Comparison.html">1.<span class="section-number">5. </span>Comparables, Comparators and Key-Value Pairs</a>&#160;&#160;»

</p>
      </div>
      <img style="float:right;" src="_static/nsf1.gif" height="62" width="62" alt="nsf"/>


    <div class="footer">
      <p>
        <span class="email_div" style="display:inline;">
          <a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a>
          <a id="bugreport-link" style="float:left;color:blue;" class="bugreport-link" href="#">| Report a bug</a>
        </span>
      </p>
        &copy; Copyright 2016 by OpenDSA Project Contributors and distributed under an MIT license.
      Last updated on Jan 24, 2022.
      Created using <a target="_blank" href="http://sphinx.pocoo.org/">Sphinx</a> 2.4.4.
    </div>
    
<div id="bugreport-box" class="bugreport-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="report" action="https://#">
    <fieldset class="textbox">
      <div id="bug_error" class="error"></div>
      <label>
        <span>Summary*:</span>
        <input type="text" id="b_title" placeholder="Summary" />
      </label>

      <label class="os">
        <span>Operating system*:</span>
        <select id="b_os">
          <option value="windows">Windows</option>
          <option value="macos">Mac OS</option>
          <option value="linux">Linux</option>
          <option value="ios">iOS</option>
          <option value="android">Android</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="browser">
        <span>Browser*:</span>
        <select id="b_browser">
          <option value="chrome">Chrome</option>
          <option value="safari">Safari</option>
          <option value="internetexplorer">Internet Explorer</option>
          <option value="opera">Opera</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="description">
        <span>Description*:</span><br>
        <textarea id="b_description" rows="5" cols="25" placeholder="***BUG** Please enter: (1) a consice description of the problem. (2) steps to reproduce bug. (3) the version of your browser and operating system."></textarea>
      </label>

      <label class="screenshot">
        <span>Attach a screenshot (optional):</span>
        <input type="file" id="b_screenshot" accept="image/*" placeholder="Attach a screenshot (optional)">
      </label>

      <p>
        <input type="submit" id="bug-submit-button" value="Submit &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>

  </body>
</html>