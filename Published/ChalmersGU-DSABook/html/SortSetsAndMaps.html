
<!DOCTYPE html>




<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.15. Arrays as Sets or Maps &mdash; Data Structures and Algorithms</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/normalize.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/JSAV.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaMOD-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/jquery.ui.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaStyle-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/accessibility.css" type="text/css" />
    
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '0.4.1',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": {
        scale: "80"
      }
    });
  </script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="index" title="Data Structures and Algorithms" href="index.html" />
    <link rel="next" title="16. Sorting Summary Exercises" href="SortSumm.html" />
    <link rel="prev" title="14. Lower Bounds for Sorting" href="SortingLowerBound.html" />

  </head>

  <body>


      <div class="header">
        
  
      <script type="text/javascript" src="../../../lib/jquery.min.js"></script>
      <script type="text/javascript" src="../../../lib/jquery.migrate.min.js"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/localforage/1.9.0/localforage.min.js"></script>
      <script type="text/javascript" src="../../../lib/accessibility.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.ui.min.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.transit.js"></script>
    <script type="text/javascript" src="../../../lib/raphael.js"></script>
    <script type="text/javascript" src="../../../lib/JSAV-min.js"></script>
    <script type="text/javascript" src="_static/config.js"></script>
    <script type="text/javascript" src="../../../lib/timeme-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaUtils-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaMOD-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <script type="text/javascript" src="../../../lib/dataStructures.js"></script>
    <script type="text/javascript" src="../../../lib/conceptMap.js"></script>

        
<a id="username-link" style="float:right;color:red;margin:10px 20px auto; display: none" class="username-link" href="Gradebook.html"></a>
<a id="login-link" style="float:right;color:red;margin:10px 20px auto" class="login-link" href="#"><Macro 'login'></a>
<div id="login-box" class="login-popup">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <label class="username">
        <span>Username</span>
        <input id="username" value="" type="text" autocomplete="on" placeholder="Username" tabindex="1">
      </label>
      <label class="password">
        <span>Password</span>
        <input id="password" value="" type="password" placeholder="Password" tabindex="2">
        <span><a id="forgot" href="#">Forgot your password?</a></span>
      </label>

      <p>
        <input type="submit" id="login-submit-button" value="Sign in" tabindex="3" />
      </p>
      <p>
        <input type="button" id="register-button" value="Register" tabindex="4" />
      </p>
    </fieldset>
  </form>
</div>

        
<a id="registration-link" style="float:right;color:red;margin:10px 20px auto" class="registration-link" href="#">Register</a>
<div id="registration-box" class="registration-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <div id="register_error" class="error"></div>
      <label class="username">
        <span>Username:</span>
        <input type="text" id="user" placeholder="Username" />
      </label>

      <label class="password">
        <span>Password</span>
        <input id="pass" type="password" placeholder="Password" />
      </label>

      <label class="password">
        <span>Confirm Password</span>
        <input id="rpass" type="password" placeholder="Confirm Password" />
      </label>

      <label class="email">
        <span>Email:</span>
        <input type="text" id="email" placeholder="Email">
      </label>

      <p>
        <input type="submit" id="register-submit-button" value="Register &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>
<img class="leftlogo" src="_static/OpenDSALogoT64.png" alt="Logo"/><div class="title-wrapper">
          <div class="title-inbetween" style="display: table-cell; vertical-align: middle;">
            <div class="title-content">
              <h1 class="heading" ><a href="index.html">
                <span>Data Structures and Algorithms</span></a></h1>
              <h2 class="heading" ><span>Chapter 2 Arrays: Searching and Sorting</span></h2>
            </div>
          </div>
        </div>
      </div>
      <div class="topnav">
        <p>
            <a style="float:left;color:blue;" href="../source/SortSetsAndMaps.rst.rst"
              target="_blank" rel="nofollow">Show Source | </a>&#160;&#160;
            <a class="abt" style="float:left;color:blue;" href="#" rel="nofollow">| About</a>&#160;&#160;

          
        «&#160;&#160;<a id="prevmod" href="SortingLowerBound.html">2.<span class="section-number">14. </span>Lower Bounds for Sorting</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod" href="SortSumm.html">2.<span class="section-number">16. </span>Sorting Summary Exercises</a>&#160;&#160;»


        </p>
      </div>
       
      <div class="content">
        
  <script>ODSA.SETTINGS.MODULE_SECTIONS = [];</script><script>ODSA.SETTINGS.DISP_MOD_COMP = true;ODSA.SETTINGS.MODULE_NAME = "SortSetsAndMaps";ODSA.SETTINGS.MODULE_LONG_NAME = "Arrays as Sets or Maps";ODSA.SETTINGS.MODULE_CHAPTER = "Arrays: Searching and Sorting"; ODSA.SETTINGS.BUILD_DATE = "2021-10-28 16:21:59"; ODSA.SETTINGS.BUILD_CMAP = true;JSAV_OPTIONS['lang']='en';JSAV_EXERCISE_OPTIONS['code']='pseudo';</script><div class="section" id="arrays-as-sets-or-maps">
<h1>2.<span class="section-number">15. </span>Arrays as Sets or Maps<a class="headerlink" href="#arrays-as-sets-or-maps" title="Permalink to this headline">¶</a></h1>
<p>In Chapter  we learnt about <em>sets</em> and <em>maps</em>, two of the
most important ADTs.</p>
<div id="API_SetADT_code"><ul><li><a href="#API_SetADT_code_Pseudo">Pseudo-Code</a></li><li><a href="#API_SetADT_code_Java_Generic">Java</a></li><li><a href="#API_SetADT_code_Python">Python</a></li></ul><div id="API_SetADT_code_Pseudo"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span> <span class="nf">Set</span><span class="p">(</span><span class="n">E</span><span class="p">)</span> <span class="kd">extends</span> <span class="nf">Collection</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
    <span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">)</span>                  <span class="c1">// Adds x to the set. Returns true if the element wasn&#39;t already in the set.</span>
    <span class="n">remove</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">)</span>               <span class="c1">// Removes x from the set. Returns true if the element was in the set.</span>
    <span class="n">contains</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">)</span> <span class="p">:</span> <span class="kt">boolean</span>   <span class="c1">// Returns true if x is in the set.</span>
    <span class="c1">// Note: iterator() can yield the elements in any order.</span>
</pre></div>
</div>
</div><div id="API_SetADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.Set</span>
<span class="kd">interface</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kt">boolean</span> <span class="nf">add</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>       <span class="c1">// Adds x to the set. Returns true if the element wasn&#39;t already in the set.</span>
    <span class="kt">boolean</span> <span class="nf">remove</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>    <span class="c1">// Removes x from the set. Returns true if the element was in the set.</span>
    <span class="kt">boolean</span> <span class="nf">contains</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>  <span class="c1">// Returns true if x is in the set.</span>
    <span class="c1">// Note: iterator() can yield the elements in any order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_SetADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Set</span><span class="p">(</span><span class="n">Collection</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>      <span class="s2">&quot;&quot;&quot;Adds x to the set. Returns true if the element wasn&#39;t already in the set.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>   <span class="s2">&quot;&quot;&quot;Removes x from the set. Returns true if the element was in the set.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns true if x is in the set.&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() can yield the elements in any order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_SetADT_code" ).tabs();});</script><div id="API_MapADT_code"><ul><li><a href="#API_MapADT_code_Pseudo">Pseudo-Code</a></li><li><a href="#API_MapADT_code_Java_Generic">Java</a></li><li><a href="#API_MapADT_code_Python">Python</a></li></ul><div id="API_MapADT_code_Pseudo"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span> <span class="nf">Map</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">V</span><span class="p">)</span> <span class="kd">extends</span> <span class="nf">Iterable</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
    <span class="n">put</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span><span class="n">V</span><span class="p">)</span>                   <span class="c1">// Sets the value of the given key. Returns the previous value, or null.</span>
    <span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">)</span>         <span class="p">:</span> <span class="n">V</span>            <span class="c1">// Returns the value associated with the given key, or null if the key is not there.</span>
    <span class="n">remove</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">)</span>      <span class="p">:</span> <span class="n">V</span>            <span class="c1">// Removes and returns the value associated with the given key, or null if there is no key.</span>
    <span class="n">containsKey</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">)</span> <span class="p">:</span> <span class="kt">boolean</span>      <span class="c1">// Returns true if the key has an associated value.</span>
    <span class="n">isEmpty</span><span class="p">()</span>        <span class="p">:</span> <span class="kt">boolean</span>      <span class="c1">// Returns true if there are no keys.</span>
    <span class="n">size</span><span class="p">()</span>           <span class="p">:</span> <span class="kt">int</span>          <span class="c1">// Returns the number of keys (i.e., the number of key/value pairs).</span>
    <span class="c1">// Note: iterator() can yield the keys in any order.</span>
</pre></div>
</div>
</div><div id="API_MapADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.Map, where</span>
<span class="c1">// `iterator` iterates over the keys, and replaces the more complicated `keySet`.</span>
<span class="kd">interface</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">K</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">V</span> <span class="nf">put</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">,</span> <span class="n">V</span> <span class="n">value</span><span class="p">);</span>       <span class="c1">// Sets the value of the given key. Returns the previous value, or null.</span>
    <span class="n">V</span> <span class="nf">get</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>                <span class="c1">// Returns the value associated with the given key, or null if the key is not there.</span>
    <span class="n">V</span> <span class="nf">remove</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>             <span class="c1">// Removes and returns the value associated with the given key, or null if there is no key.</span>
    <span class="kt">boolean</span> <span class="nf">containsKey</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>  <span class="c1">// Returns true if the key has an associated value.</span>
    <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="p">();</span>           <span class="c1">// Returns true if there are no keys.</span>
    <span class="kt">int</span> <span class="nf">size</span><span class="p">();</span>                  <span class="c1">// Returns the number of keys (i.e., the number of key/value pairs).</span>
    <span class="c1">// Note: iterator() can yield the keys in any order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_MapADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Map</span><span class="p">(</span><span class="n">Iterable</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>  <span class="s2">&quot;&quot;&quot;Sets the value of the given key. Returns the previous value, or None.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>         <span class="s2">&quot;&quot;&quot;Returns the value associated with the given key, or None if the key is not there.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>      <span class="s2">&quot;&quot;&quot;Removes and returns the value associated with the given key, or None if there is no key.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">containsKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns true if the key has an associated value.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>          <span class="s2">&quot;&quot;&quot;Returns true if there are no keys.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>             <span class="s2">&quot;&quot;&quot;Returns the number of keys (i.e., the number of key/value pairs).&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() can yield the keys in any order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_MapADT_code" ).tabs();});</script><p>We can implement either of these ADTs using an array. For a set, we
can use an array of elements. For a map, we have two choices:</p>
<ul class="simple">
<li><p>In languages which support <em>tuples</em> as a data type (such as Python),
we can have an array of <em>key-value</em> pairs.</p></li>
<li><p>Alternatively, we can use two arrays. One array, <code class="docutils literal notranslate"><span class="pre">keys</span></code>, holds the keys
and the other array, <code class="docutils literal notranslate"><span class="pre">values</span></code>, holds the corresponding values. The
two arrays must be “kept in sync” so that <code class="docutils literal notranslate"><span class="pre">values[i]</span></code> holds the
value associated with key <code class="docutils literal notranslate"><span class="pre">keys[i]</span></code>.</p></li>
</ul>
<p>We have one further choice: should the array be <em>sorted</em> or <em>unsorted</em>?</p>
<p>An unsorted array is usually not an appropriate choice, because the
<code class="docutils literal notranslate"><span class="pre">contains</span></code> method must use <em>linear search</em>, which takes linear time.
Thus we cannot really look up items in the set or map efficiently.</p>
<p>A sorted array is a lot better. The <code class="docutils literal notranslate"><span class="pre">contains</span></code> method can use
<em>binary search</em>, which takes logarithmic time. Hence looking up items
is efficient. Unfortunately, modifying the data structure is slow.
If we want to <code class="docutils literal notranslate"><span class="pre">add</span></code> an item to a sorted array, we have to keep the
array sorted – and that means we need to <em>insert</em> the new item at the
right place in the array, using the insertion algorithm from Insertion
Sort. This takes linear time in the worst case. Similarly, to
<code class="docutils literal notranslate"><span class="pre">remove</span></code> an item without creating a hole in the array, we need to
move all the items that come after one space backwards. This also
takes linear time.</p>
<p>A sorted array is a suitable way to implement a set or a map that
<em>never changes</em>, that is where we never need to add or remove items
after the array is created. We start by sorting the array, using
either quicksort or mergesort, and then we can use binary search to
find items in it. Sorted arrays also support the <em>sorted set</em> and
<em>sorted map</em> operations such as <em>range queries</em> – these can also be
implemented using binary search. As a reminder, here are the relevant
operations:</p>
<div id="API_SortedSetADT_code"><ul><li><a href="#API_SortedSetADT_code_Pseudo">Pseudo-Code</a></li><li><a href="#API_SortedSetADT_code_Java_Generic">Java</a></li><li><a href="#API_SortedSetADT_code_Python">Python</a></li></ul><div id="API_SortedSetADT_code_Pseudo"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span> <span class="nf">SortedSet</span><span class="p">(</span><span class="n">E</span><span class="p">)</span> <span class="kd">extends</span> <span class="nf">Set</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
    <span class="n">first</span><span class="p">()</span>      <span class="p">:</span> <span class="n">E</span>     <span class="c1">// Returns the first (smallest) element. Raises an exception if the set is empty.</span>
    <span class="n">last</span><span class="p">()</span>       <span class="p">:</span> <span class="n">E</span>     <span class="c1">// Returns the last (largest) element. Raises an exception if the set is empty.</span>
    <span class="n">floor</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">)</span>   <span class="p">:</span> <span class="n">E</span>     <span class="c1">// Returns the closest element &lt;= x, or null if there is no such element.</span>
    <span class="n">ceiling</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">)</span> <span class="p">:</span> <span class="n">E</span>     <span class="c1">// Returns the closest element &gt;= x, or null if there is no such element.</span>
    <span class="n">successor</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">)</span> <span class="p">:</span> <span class="n">E</span>   <span class="c1">// Returns the closest element &gt; x, or null if there is no such element.</span>
    <span class="n">predecessor</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">)</span> <span class="p">:</span> <span class="n">E</span> <span class="c1">// Returns the closest element &lt; x, or null if there is no such element.</span>
    <span class="n">between</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">E</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="n">E</span><span class="p">)</span> <span class="p">:</span> <span class="n">Iterator</span><span class="p">(</span><span class="n">E</span><span class="p">)</span> <span class="c1">// Returns all elements between x and y.</span>
    <span class="c1">// Note: iterator() should yield the elements in order.</span>
</pre></div>
</div>
</div><div id="API_SortedSetADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.SortedSet, where</span>
<span class="c1">// `floor` and `ceiling` are borrowed from java.util.NavigableSet.</span>
<span class="kd">interface</span> <span class="nc">SortedSet</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">E</span> <span class="nf">first</span><span class="p">();</span>          <span class="c1">// Returns the first (smallest) element. Raises an exception if the set is empty.</span>
    <span class="n">E</span> <span class="nf">last</span><span class="p">();</span>           <span class="c1">// Returns the last (largest) element. Raises an exception if the set is empty.</span>
    <span class="n">E</span> <span class="nf">floor</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>       <span class="c1">// Returns the closest element &lt;= x, or null if there is no such element.</span>
    <span class="n">E</span> <span class="nf">ceiling</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>     <span class="c1">// Returns the closest element &gt;= x, or null if there is no such element.</span>
    <span class="n">E</span> <span class="nf">successor</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span>   <span class="c1">// Returns the closest element &gt; x, or null if there is no such element.</span>
    <span class="n">E</span> <span class="nf">predecessor</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">);</span> <span class="c1">// Returns the closest element &lt; x, or null if there is no such element.</span>
    <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="nf">between</span><span class="p">(</span><span class="n">E</span> <span class="n">x</span><span class="p">,</span> <span class="n">E</span> <span class="n">y</span><span class="p">);</span> <span class="c1">// Returns all elements between x and y.</span>
    <span class="c1">// Note: iterator() should yield the elements in order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_SortedSetADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SortedSet</span><span class="p">(</span><span class="n">Set</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>          <span class="s2">&quot;&quot;&quot;Returns the first (smallest) element. Raises an exception if the set is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>           <span class="s2">&quot;&quot;&quot;Returns the last (largest) element. Raises an exception if the set is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">floor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>       <span class="s2">&quot;&quot;&quot;Returns the closest element &lt;= x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">ceiling</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>     <span class="s2">&quot;&quot;&quot;Returns the closest element &gt;= x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">successor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>   <span class="s2">&quot;&quot;&quot;Returns the closest element &gt; x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">predecessor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns the closest element &lt; x, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">between</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>  <span class="s2">&quot;&quot;&quot;Returns all elements between x and y.&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() should yield the elements in order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_SortedSetADT_code" ).tabs();});</script><div id="API_SortedMapADT_code"><ul><li><a href="#API_SortedMapADT_code_Pseudo">Pseudo-Code</a></li><li><a href="#API_SortedMapADT_code_Java_Generic">Java</a></li><li><a href="#API_SortedMapADT_code_Python">Python</a></li></ul><div id="API_SortedMapADT_code_Pseudo"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span> <span class="nf">SortedMap</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">V</span><span class="p">)</span> <span class="kd">extends</span> <span class="nf">Map</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>
    <span class="n">firstKey</span><span class="p">()</span>      <span class="p">:</span> <span class="n">K</span>    <span class="c1">// Returns the first (smallest) key. Raises an exception if the map is empty.</span>
    <span class="n">lastKey</span><span class="p">()</span>       <span class="p">:</span> <span class="n">K</span>    <span class="c1">// Returns the last (largest) key. Raises an exception if the map is empty.</span>
    <span class="n">floorKey</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">)</span>   <span class="p">:</span> <span class="n">K</span>    <span class="c1">// Returns the closest key &lt;= k, or null if there is no key.</span>
    <span class="n">ceilingKey</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">)</span> <span class="p">:</span> <span class="n">K</span>    <span class="c1">// Returns the closest key &gt;= k, or null if there is no key.</span>
    <span class="n">successorKey</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">)</span> <span class="p">:</span> <span class="n">K</span>  <span class="c1">// Returns the closest key &gt; k, or null if there is no such element.</span>
    <span class="n">predecessorKey</span><span class="p">(</span><span class="n">k</span><span class="p">:</span><span class="n">K</span><span class="p">)</span> <span class="p">:</span> <span class="n">K</span> <span class="c1">// Returns the closest key &lt; k, or null if there is no such element.</span>
    <span class="n">keysBetween</span><span class="p">(</span><span class="n">k1</span><span class="p">:</span><span class="n">K</span><span class="p">,</span> <span class="n">k2</span><span class="p">:</span><span class="n">K</span><span class="p">)</span> <span class="p">:</span> <span class="n">Iterator</span><span class="p">(</span><span class="n">K</span><span class="p">)</span> <span class="c1">// Returns all keys between k1 and k2.</span>
    <span class="c1">// Note: iterator() should yield the keys in order.</span>
</pre></div>
</div>
</div><div id="API_SortedMapADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of java.util.SortedMap, where</span>
<span class="c1">// `floorKey` and `ceilingKey` are borrowed from java.util.NavigableMap.</span>
<span class="kd">interface</span> <span class="nc">SortedMap</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">K</span> <span class="nf">firstKey</span><span class="p">();</span>          <span class="c1">// Returns the first (smallest) key. Raises an exception if the map is empty.</span>
    <span class="n">K</span> <span class="nf">lastKey</span><span class="p">();</span>           <span class="c1">// Returns the last (largest) key. Raises an exception if the map is empty.</span>
    <span class="n">K</span> <span class="nf">floorKey</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>     <span class="c1">// Returns the closest key &lt;= k, or null if there is no key.</span>
    <span class="n">K</span> <span class="nf">ceilingKey</span><span class="p">(</span><span class="n">K</span> <span class="n">key</span><span class="p">);</span>   <span class="c1">// Returns the closest key &gt;= k, or null if there is no key.</span>
    <span class="n">K</span> <span class="nf">successorKey</span><span class="p">(</span><span class="n">K</span> <span class="n">k</span><span class="p">);</span>   <span class="c1">// Returns the closest key &gt; k, or null if there is no such element.</span>
    <span class="n">K</span> <span class="nf">predecessorKey</span><span class="p">(</span><span class="n">K</span> <span class="n">k</span><span class="p">);</span> <span class="c1">// Returns the closest key &lt; k, or null if there is no such element.</span>
    <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">K</span><span class="o">&gt;</span> <span class="nf">keysBetween</span><span class="p">(</span><span class="n">K</span> <span class="n">k1</span><span class="p">,</span> <span class="n">K</span> <span class="n">k2</span><span class="p">);</span> <span class="c1">// Returns all keys between k1 and k2.</span>
    <span class="c1">// Note: iterator() should yield the keys in order.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="API_SortedMapADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SortedMap</span><span class="p">(</span><span class="n">Map</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">firstKey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>            <span class="s2">&quot;&quot;&quot;Returns the first (smallest) key. Raises an exception if the map is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">lastKey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>             <span class="s2">&quot;&quot;&quot;Returns the last (largest) key. Raises an exception if the map is empty.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">floorKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>       <span class="s2">&quot;&quot;&quot;Returns the closest key &lt;= k, or None if there is no key.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">ceilingKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>     <span class="s2">&quot;&quot;&quot;Returns the closest key &gt;= k, or None if there is no key.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">successorKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>   <span class="s2">&quot;&quot;&quot;Returns the closest key &gt; k, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">predecessorKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns the closest key &lt; k, or None if there is no such element.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">keysBetween</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key1</span><span class="p">,</span> <span class="n">key2</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Returns all keys between k1 and k2.&quot;&quot;&quot;</span>
    <span class="c1"># Note: __iter__() should yield the keys in order.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#API_SortedMapADT_code" ).tabs();});</script><p>Sorted arrays can also be useful in cases where we always add <em>many</em>
items in one go. Given a sorted array <span class="math notranslate nohighlight">\(A\)</span>, and an unsorted list
of items <span class="math notranslate nohighlight">\(B\)</span>, we can add the items in <span class="math notranslate nohighlight">\(B\)</span> to <span class="math notranslate nohighlight">\(A\)</span> as
follows. First we sort <span class="math notranslate nohighlight">\(B\)</span>, then we merge <span class="math notranslate nohighlight">\(A\)</span> and
<span class="math notranslate nohighlight">\(B\)</span>, using the merge algorithm from mergesort. Note that the
merge step takes linear time, and sorting <span class="math notranslate nohighlight">\(B\)</span> takes a bit more
than linear time, so this is a lot faster than adding all the items
from <span class="math notranslate nohighlight">\(B\)</span> one by one (which would take quadratic time).</p>
<p>An array is not a good way to implement a set or a map, if we need
both <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">remove</span></code> and <code class="docutils literal notranslate"><span class="pre">contains</span></code> to be efficient. Later we
will learn about two data structures that are more suitable for
implementing sets and maps: binary search trees and hash tables.</p>
</div>


      </div>
      <div class="bottomnav">
      <p><span class="email_div" style="display:inline;"><a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a><a style="float:left;color:blue;" rel="nofollow" href="../../../lib/Privacy.html" target="_blank">| Privacy |</a> <a style="float:left;color:blue;" rel="nofollow" href="../../../lib/license.html" target="_blank">| License</a></span>&#160;&#160;
      
        «&#160;&#160;<a id="prevmod1" href="SortingLowerBound.html">2.<span class="section-number">14. </span>Lower Bounds for Sorting</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod1" href="SortSumm.html">2.<span class="section-number">16. </span>Sorting Summary Exercises</a>&#160;&#160;»

</p>
      </div>
      <img style="float:right;" src="_static/nsf1.gif" height="62" width="62" alt="nsf"/>


    <div class="footer">
      <p>
        <span class="email_div" style="display:inline;">
          <a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a>
          <a id="bugreport-link" style="float:left;color:blue;" class="bugreport-link" href="#">| Report a bug</a>
        </span>
      </p>
        &copy; Copyright 2016 by OpenDSA Project Contributors and distributed under an MIT license.
      Last updated on Oct 28, 2021.
      Created using <a target="_blank" href="http://sphinx.pocoo.org/">Sphinx</a> 2.4.4.
    </div>
    
<div id="bugreport-box" class="bugreport-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="report" action="https://#">
    <fieldset class="textbox">
      <div id="bug_error" class="error"></div>
      <label>
        <span>Summary*:</span>
        <input type="text" id="b_title" placeholder="Summary" />
      </label>

      <label class="os">
        <span>Operating system*:</span>
        <select id="b_os">
          <option value="windows">Windows</option>
          <option value="macos">Mac OS</option>
          <option value="linux">Linux</option>
          <option value="ios">iOS</option>
          <option value="android">Android</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="browser">
        <span>Browser*:</span>
        <select id="b_browser">
          <option value="chrome">Chrome</option>
          <option value="safari">Safari</option>
          <option value="internetexplorer">Internet Explorer</option>
          <option value="opera">Opera</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="description">
        <span>Description*:</span><br>
        <textarea id="b_description" rows="5" cols="25" placeholder="***BUG** Please enter: (1) a consice description of the problem. (2) steps to reproduce bug. (3) the version of your browser and operating system."></textarea>
      </label>

      <label class="screenshot">
        <span>Attach a screenshot (optional):</span>
        <input type="file" id="b_screenshot" accept="image/*" placeholder="Attach a screenshot (optional)">
      </label>

      <p>
        <input type="submit" id="bug-submit-button" value="Submit &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>

  </body>
</html>