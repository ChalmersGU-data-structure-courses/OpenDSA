
<!DOCTYPE html>




<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.6. Comparison of List Implementations &mdash; Data Structures and Algorithms</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/normalize.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/JSAV.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaMOD-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/jquery.ui.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaStyle-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/accessibility.css" type="text/css" />
    
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '0.4.1',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": {
        scale: "80"
      }
    });
  </script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="index" title="Data Structures and Algorithms" href="index.html" />
    <link rel="next" title="7. Doubly Linked Lists (optional)" href="ListDouble.html" />
    <link rel="prev" title="5. Linked Lists" href="ListLinked.html" />

  </head>

  <body>


      <div class="header">
        
  
      <script type="text/javascript" src="../../../lib/jquery.min.js"></script>
      <script type="text/javascript" src="../../../lib/jquery.migrate.min.js"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/localforage/1.9.0/localforage.min.js"></script>
      <script type="text/javascript" src="../../../lib/accessibility.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.ui.min.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.transit.js"></script>
    <script type="text/javascript" src="../../../lib/raphael.js"></script>
    <script type="text/javascript" src="../../../lib/JSAV-min.js"></script>
    <script type="text/javascript" src="_static/config.js"></script>
    <script type="text/javascript" src="../../../lib/timeme-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaUtils-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaMOD-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <script type="text/javascript" src="../../../lib/dataStructures.js"></script>
    <script type="text/javascript" src="../../../lib/conceptMap.js"></script>

        
<a id="username-link" style="float:right;color:red;margin:10px 20px auto; display: none" class="username-link" href="Gradebook.html"></a>
<a id="login-link" style="float:right;color:red;margin:10px 20px auto" class="login-link" href="#"><Macro 'login'></a>
<div id="login-box" class="login-popup">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <label class="username">
        <span>Username</span>
        <input id="username" value="" type="text" autocomplete="on" placeholder="Username" tabindex="1">
      </label>
      <label class="password">
        <span>Password</span>
        <input id="password" value="" type="password" placeholder="Password" tabindex="2">
        <span><a id="forgot" href="#">Forgot your password?</a></span>
      </label>

      <p>
        <input type="submit" id="login-submit-button" value="Sign in" tabindex="3" />
      </p>
      <p>
        <input type="button" id="register-button" value="Register" tabindex="4" />
      </p>
    </fieldset>
  </form>
</div>

        
<a id="registration-link" style="float:right;color:red;margin:10px 20px auto" class="registration-link" href="#">Register</a>
<div id="registration-box" class="registration-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <div id="register_error" class="error"></div>
      <label class="username">
        <span>Username:</span>
        <input type="text" id="user" placeholder="Username" />
      </label>

      <label class="password">
        <span>Password</span>
        <input id="pass" type="password" placeholder="Password" />
      </label>

      <label class="password">
        <span>Confirm Password</span>
        <input id="rpass" type="password" placeholder="Confirm Password" />
      </label>

      <label class="email">
        <span>Email:</span>
        <input type="text" id="email" placeholder="Email">
      </label>

      <p>
        <input type="submit" id="register-submit-button" value="Register &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>
<img class="leftlogo" src="_static/OpenDSALogoT64.png" alt="Logo"/><div class="title-wrapper">
          <div class="title-inbetween" style="display: table-cell; vertical-align: middle;">
            <div class="title-content">
              <h1 class="heading" ><a href="index.html">
                <span>Data Structures and Algorithms</span></a></h1>
              <h2 class="heading" ><span>Chapter 4 Linear Structures</span></h2>
            </div>
          </div>
        </div>
      </div>
      <div class="topnav">
        <p>
            <a style="float:left;color:blue;" href="../source/ListAnalysis.rst.rst"
              target="_blank" rel="nofollow">Show Source | </a>&#160;&#160;
            <a class="abt" style="float:left;color:blue;" href="#" rel="nofollow">| About</a>&#160;&#160;

          
        «&#160;&#160;<a id="prevmod" href="ListLinked.html">4.<span class="section-number">5. </span>Linked Lists</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod" href="ListDouble.html">4.<span class="section-number">7. </span>Doubly Linked Lists (optional)</a>&#160;&#160;»


        </p>
      </div>
       
      <div class="content">
        
  <script>ODSA.SETTINGS.MODULE_SECTIONS = ['space-comparison', 'time-comparison', 'when-to-use-linked-lists', 'practice-questions', 'how-are-lists-implemented-in-the-standard-libraries'];</script><script>ODSA.SETTINGS.DISP_MOD_COMP = true;ODSA.SETTINGS.MODULE_NAME = "ListAnalysis";ODSA.SETTINGS.MODULE_LONG_NAME = "Comparison of List Implementations";ODSA.SETTINGS.MODULE_CHAPTER = "Linear Structures"; ODSA.SETTINGS.BUILD_DATE = "2021-10-27 17:05:27"; ODSA.SETTINGS.BUILD_CMAP = true;JSAV_OPTIONS['lang']='en';JSAV_EXERCISE_OPTIONS['code']='pseudo';</script><div class="section" id="comparison-of-list-implementations">
<h1>4.<span class="section-number">6. </span>Comparison of List Implementations<a class="headerlink" href="#comparison-of-list-implementations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="space-comparison">
<h2>4.<span class="section-number">6.1. </span>Space Comparison<a class="headerlink" href="#space-comparison" title="Permalink to this headline">¶</a></h2>
<p>Now that you have seen two substantially different implementations for
lists, it is natural to ask which is better.
In particular, if you must implement a list for some task,
which implementation should you choose?</p>
<p>Given a collection of elements to store, they take up some amount of
space whether they are simple integers or large objects with many
fields.
Any container data structure like a list then requires some additional
space to organize the elements being stored.
This additional space is called <a class="reference internal" href="Glossary.html#term-overhead"><span class="xref std std-term">overhead</span></a>.</p>
<p><a class="reference internal" href="Glossary.html#term-array-based-list"><span class="xref std std-term">Array-based lists</span></a> have the disadvantage
that their size must be predetermined before the array can be
allocated.
Static array-based lists cannot grow beyond their predetermined size,
but dynamic lists will automatically reallocate the array when needed.
However, when the list has recently been reallocated, a
substantial amount of space might be tied up in a largely empty array.
This empty space is the overhead required by the array-based list.
<a class="reference internal" href="Glossary.html#term-linked-list"><span class="xref std std-term">Linked lists</span></a> have the advantage that they only
need space for the objects actually on the list.
There is no limit to the number of elements in either a linked list
or a dynamic array-based list,
as long as there is <a class="reference internal" href="Glossary.html#term-free-store"><span class="xref std std-term">free store</span></a> memory available.</p>
<p>The amount of space required by a linked list is directly proportional
to the number of elements <span class="math notranslate nohighlight">\(n\)</span>.
Assuming that each list node takes up <span class="math notranslate nohighlight">\(K\)</span> bytes of memory, the full list
will use <span class="math notranslate nohighlight">\(Kn\)</span> bytes.
The amount of space required by an array-based list is in the worst case
three times as much as <span class="math notranslate nohighlight">\(n\)</span> times the size of an array cell.
(This worst case will arise when we remove a lot of elements from the list,
because we wait until it is 1/3 full until we shrink the array).
So assuming that one array cell takes up <span class="math notranslate nohighlight">\(C\)</span> bytes, the full array-based list
will use at least <span class="math notranslate nohighlight">\(Cn\)</span> bytes, and at most <span class="math notranslate nohighlight">\(3Cn\)</span> bytes.</p>
<p>So, which one is the best? It depends on the size of the list nodes <span class="math notranslate nohighlight">\(K\)</span>,
compared to the size of the array cells <span class="math notranslate nohighlight">\(C\)</span>.
Array-based lists have the advantage that there is no wasted
space for an individual element.
Linked lists require that an extra pointer for the <code class="docutils literal notranslate"><span class="pre">next</span></code> field be
added to every list node.
So the linked list has these <code class="docutils literal notranslate"><span class="pre">next</span></code> pointers as overhead.
In many cases, <span class="math notranslate nohighlight">\(K\)</span> is 2–3 times as large as <span class="math notranslate nohighlight">\(C\)</span>, so they will be
quite similar in size on average. But this depends on the programming language,
the operating system, and perhaps other factors.</p>
<p>Note that these calculations exclude the memory used by the actual list elements,
since the lists themselves only contain pointers to the elements!
And in many cases, the objects themselves are much larger than the list nodes
(or array cells).</p>
</div>
<div class="section" id="time-comparison">
<h2>4.<span class="section-number">6.2. </span>Time Comparison<a class="headerlink" href="#time-comparison" title="Permalink to this headline">¶</a></h2>
<p>Array-based lists are faster for access by position.
To locate an element anywhere in the list is constant time,
i.e., they take <span class="math notranslate nohighlight">\(\Theta(1)\)</span> time.
In contrast, for singly linked lists,
access by position requires that we march
down the list from the front to the specified position.
This requires <span class="math notranslate nohighlight">\(\Theta(n)\)</span> time in the worst case,
which is when if we want to locate the very last element.</p>
<p>Assuming that we already have located a suitable location in the list,
insertion and removal are constant time, <span class="math notranslate nohighlight">\(\Theta(1)\)</span>.
However, as already mentioned, finding that location takes <span class="math notranslate nohighlight">\(\Theta(n)\)</span>,
so the <code class="docutils literal notranslate"><span class="pre">add</span></code> and <code class="docutils literal notranslate"><span class="pre">remove</span></code> methods are linear time,  <span class="math notranslate nohighlight">\(\Theta(n)\)</span>.
Array-based lists must shift the remainder of the list up or down
within the array.
This requires <span class="math notranslate nohighlight">\(\Theta(n)\)</span> time in the worst case.</p>
<p>Note that linked lists and array-based lists have different worst-case
isntances! For a linked list, inserting/removing at the end takes the longest time,
while for an array-base list, the problem is to insert/remove from the beginning.</p>
<div class="section" id="when-to-use-linked-lists">
<h3>4.<span class="section-number">6.2.1. </span>When to use linked lists?<a class="headerlink" href="#when-to-use-linked-lists" title="Permalink to this headline">¶</a></h3>
<p>According to the calculations above, linked lists are worse than array-based lists,
because all operations are slow (linear time). So why even bother using linked lists?</p>
<p>First there are limited versions of lists that can be implemented efficiently using linked lists,
we will look at <a class="reference internal" href="StackLinked.html#stacklinked"><span class="std std-ref">stacks</span></a> and <a class="reference internal" href="QueueLinked.html#queuelinked"><span class="std std-ref">queues</span></a> later.
Second, our list API is not the best for linked lists.
If we instead could have a pointer to the “current” list node, and have methods for
moving forward and backward in the list, several of the operations can be constant time.
In the Java standard API this is called a <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html">ListIterator</a>,
which is part of Java’s standard <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html">LinkedList</a>.</p>
<p>But these advanced list iterators are not part of this course, and in fact there are not very
algorithms where list iterators are particularly useful.</p>
</div>
<div class="section" id="practice-questions">
<h3>4.<span class="section-number">6.2.2. </span>Practice Questions<a class="headerlink" href="#practice-questions" title="Permalink to this headline">¶</a></h3>
<a id="todo0"></a><div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Update this exercise</p>
</div>
<div
    id="LLSumm"
    class="embedContainer"
    data-exer-name="LLSumm"
    data-long-name="Linked List Summary Exercise"
    data-short-name="LLSumm"
    data-frame-src="../../../Exercises/List/LLSumm.html?localMode=true&amp;module=ListAnalysis&amp;selfLoggingEnabled=false&amp;JXOP-debug=true&amp;JOP-lang=en&amp;JXOP-code=pseudo"
    data-frame-width="950"
    data-frame-height="650"
    data-vertical-scrolling="no"
    data-external="false"
    data-points="1.0"
    data-required="True"
    data-showhide="show"
    data-threshold="5"
    data-type="ka"
    data-exer-id="">
  
  <div class="center">
    <div id="LLSumm_iframe"></div>
  </div>
</div>
</div>
</div>
<div class="section" id="how-are-lists-implemented-in-the-standard-libraries">
<h2>4.<span class="section-number">6.3. </span>How are lists implemented in the standard libraries?<a class="headerlink" href="#how-are-lists-implemented-in-the-standard-libraries" title="Permalink to this headline">¶</a></h2>
<p>All serious languages have dynamic list implementations.
Here are how they are implemented in Java and Python:</p>
<ul class="simple">
<li><p>In Java,
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html">java.util.ArrayList</a>
implements dynamic arrays,
meaning that the internal array grows automatically when necessary.
The growth factor is 50%, so that if the array has size 1024,
it will grow with another 512 elements.
[<a class="reference external" href="https://github.com/openjdk/jdk/blob/961dcffc862a4830fbf26791835a98c12d4b513e/src/java.base/share/classes/java/util/ArrayList.java#L236">Source: ArrayList.java</a>]
However, the ArrayList will never shrink automatically, but instead it’s up to the programmer
to decide when to shrink it.</p></li>
<li><p>Java’s
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html">java.util.LinkedList</a>
implements doubly-linked lists, so that the iterator can move forward and backward through the list.
[<a class="reference external" href="https://github.com/openjdk/jdk/blob/961dcffc862a4830fbf26791835a98c12d4b513e/src/java.base/share/classes/java/util/LinkedList.java#L974-L984">Source: LinkedList.java</a>]</p></li>
<li><p>Python’s standard lists are dynamic.
In fact, Python doesn’t even support fixed-length lists, so our code in this module is a bit of a hack.
Python lists both grow and shrink the lists automatically,
and the growth factor is 1/8 (12.5%), meaning that if the array has size 1024,
it will grow with another 128 elements.
It shrinks the array by 1/8 whenever less than half of the array is occupied.
[<a class="reference external" href="https://github.com/python/cpython/blob/e649e0658ff2af87b07d994c05ae048e16e31aae/Objects/listobject.c#L71">Source: listobject.c</a>]</p></li>
</ul>
</div>
</div>


      </div>
      <div class="bottomnav">
      <p><span class="email_div" style="display:inline;"><a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a><a style="float:left;color:blue;" rel="nofollow" href="../../../lib/Privacy.html" target="_blank">| Privacy |</a> <a style="float:left;color:blue;" rel="nofollow" href="../../../lib/license.html" target="_blank">| License</a></span>&#160;&#160;
      
        «&#160;&#160;<a id="prevmod1" href="ListLinked.html">4.<span class="section-number">5. </span>Linked Lists</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod1" href="ListDouble.html">4.<span class="section-number">7. </span>Doubly Linked Lists (optional)</a>&#160;&#160;»

</p>
      </div>
      <img style="float:right;" src="_static/nsf1.gif" height="62" width="62" alt="nsf"/>


    <div class="footer">
      <p>
        <span class="email_div" style="display:inline;">
          <a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a>
          <a id="bugreport-link" style="float:left;color:blue;" class="bugreport-link" href="#">| Report a bug</a>
        </span>
      </p>
        &copy; Copyright 2016 by OpenDSA Project Contributors and distributed under an MIT license.
      Last updated on Oct 27, 2021.
      Created using <a target="_blank" href="http://sphinx.pocoo.org/">Sphinx</a> 2.4.4.
    </div>
    
<div id="bugreport-box" class="bugreport-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="report" action="https://#">
    <fieldset class="textbox">
      <div id="bug_error" class="error"></div>
      <label>
        <span>Summary*:</span>
        <input type="text" id="b_title" placeholder="Summary" />
      </label>

      <label class="os">
        <span>Operating system*:</span>
        <select id="b_os">
          <option value="windows">Windows</option>
          <option value="macos">Mac OS</option>
          <option value="linux">Linux</option>
          <option value="ios">iOS</option>
          <option value="android">Android</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="browser">
        <span>Browser*:</span>
        <select id="b_browser">
          <option value="chrome">Chrome</option>
          <option value="safari">Safari</option>
          <option value="internetexplorer">Internet Explorer</option>
          <option value="opera">Opera</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="description">
        <span>Description*:</span><br>
        <textarea id="b_description" rows="5" cols="25" placeholder="***BUG** Please enter: (1) a consice description of the problem. (2) steps to reproduce bug. (3) the version of your browser and operating system."></textarea>
      </label>

      <label class="screenshot">
        <span>Attach a screenshot (optional):</span>
        <input type="file" id="b_screenshot" accept="image/*" placeholder="Attach a screenshot (optional)">
      </label>

      <p>
        <input type="submit" id="bug-submit-button" value="Submit &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>

  </body>
</html>