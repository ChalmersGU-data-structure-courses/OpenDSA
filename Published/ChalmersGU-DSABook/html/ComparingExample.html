
<!DOCTYPE html>




<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.5. Comparables and comparators, an example &mdash; Data Structures and Algorithms</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/normalize.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/JSAV.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaMOD-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/jquery.ui.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaStyle-min.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/accessibility.css" type="text/css" />
    
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '0.4.1',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": {
        scale: "80"
      }
    });
  </script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="index" title="Data Structures and Algorithms" href="index.html" />
    <link rel="next" title="6. Maps or Dictionaries" href="Dictionary.html" />
    <link rel="prev" title="4. Comparing Records" href="Comparison.html" />

  </head>

  <body>


      <div class="header">
        
  
      <script type="text/javascript" src="../../../lib/jquery.min.js"></script>
      <script type="text/javascript" src="../../../lib/jquery.migrate.min.js"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/localforage/1.9.0/localforage.min.js"></script>
      <script type="text/javascript" src="../../../lib/accessibility.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.ui.min.js"></script>
    <script type="text/javascript" src="../../../lib/jquery.transit.js"></script>
    <script type="text/javascript" src="../../../lib/raphael.js"></script>
    <script type="text/javascript" src="../../../lib/JSAV-min.js"></script>
    <script type="text/javascript" src="_static/config.js"></script>
    <script type="text/javascript" src="../../../lib/timeme-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaUtils-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaMOD-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <script type="text/javascript" src="../../../lib/dataStructures.js"></script>
    <script type="text/javascript" src="../../../lib/conceptMap.js"></script>

        
<a id="username-link" style="float:right;color:red;margin:10px 20px auto; display: none" class="username-link" href="Gradebook.html"></a>
<a id="login-link" style="float:right;color:red;margin:10px 20px auto" class="login-link" href="#"><Macro 'login'></a>
<div id="login-box" class="login-popup">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <label class="username">
        <span>Username</span>
        <input id="username" value="" type="text" autocomplete="on" placeholder="Username" tabindex="1">
      </label>
      <label class="password">
        <span>Password</span>
        <input id="password" value="" type="password" placeholder="Password" tabindex="2">
        <span><a id="forgot" href="#">Forgot your password?</a></span>
      </label>

      <p>
        <input type="submit" id="login-submit-button" value="Sign in" tabindex="3" />
      </p>
      <p>
        <input type="button" id="register-button" value="Register" tabindex="4" />
      </p>
    </fieldset>
  </form>
</div>

        
<a id="registration-link" style="float:right;color:red;margin:10px 20px auto" class="registration-link" href="#">Register</a>
<div id="registration-box" class="registration-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <div id="register_error" class="error"></div>
      <label class="username">
        <span>Username:</span>
        <input type="text" id="user" placeholder="Username" />
      </label>

      <label class="password">
        <span>Password</span>
        <input id="pass" type="password" placeholder="Password" />
      </label>

      <label class="password">
        <span>Confirm Password</span>
        <input id="rpass" type="password" placeholder="Confirm Password" />
      </label>

      <label class="email">
        <span>Email:</span>
        <input type="text" id="email" placeholder="Email">
      </label>

      <p>
        <input type="submit" id="register-submit-button" value="Register &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>
<img class="leftlogo" src="_static/OpenDSALogoT64.png" alt="Logo"/><div class="title-wrapper">
          <div class="title-inbetween" style="display: table-cell; vertical-align: middle;">
            <div class="title-content">
              <h1 class="heading" ><a href="index.html">
                <span>Data Structures and Algorithms</span></a></h1>
              <h2 class="heading" ><span>Chapter 1 Introduction</span></h2>
            </div>
          </div>
        </div>
      </div>
      <div class="topnav">
        <p>
            <a style="float:left;color:blue;" href="../source/ComparingExample.rst.rst"
              target="_blank" rel="nofollow">Show Source | </a>&#160;&#160;
            <a class="abt" style="float:left;color:blue;" href="#" rel="nofollow">| About</a>&#160;&#160;

          
        «&#160;&#160;<a id="prevmod" href="Comparison.html">1.<span class="section-number">4. </span>Comparing Records</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod" href="Dictionary.html">1.<span class="section-number">6. </span>Maps or Dictionaries</a>&#160;&#160;»


        </p>
      </div>
       
      <div class="content">
        
  <script>ODSA.SETTINGS.MODULE_SECTIONS = ['comparables-and-comparators-in-java', 'comparables', 'comparators-the-old-way', 'comparators-the-new-functional-interface-in-java-8', 'comparing-fields-using-key-extractors', 'comparing-several-fields', 'case-insensitive-and-language-specific-comparisons', 'running-the-program', '…and-what-about-the-names'];</script><script>ODSA.SETTINGS.DISP_MOD_COMP = true;ODSA.SETTINGS.MODULE_NAME = "ComparingExample";ODSA.SETTINGS.MODULE_LONG_NAME = "Comparables and comparators, an example";ODSA.SETTINGS.MODULE_CHAPTER = "Introduction"; ODSA.SETTINGS.BUILD_DATE = "2021-10-20 13:26:11"; ODSA.SETTINGS.BUILD_CMAP = true;JSAV_OPTIONS['lang']='en';JSAV_EXERCISE_OPTIONS['code']='pseudo';</script><div class="section" id="comparables-and-comparators-an-example">
<h1>1.<span class="section-number">5. </span>Comparables and comparators, an example<a class="headerlink" href="#comparables-and-comparators-an-example" title="Permalink to this headline">¶</a></h1>
<p><em>Note</em>: Despite treating comparables and comparators in Java, the code here is written in pseudocode and ignores some Java-specific details, so to actually implement it you have to think a little bit and read the Java documentation to translate it into Java. (You can also look at the associated Java file at the end of this document, but that’s cheating :).</p>
<div class="section" id="comparables-and-comparators-in-java">
<h2>1.<span class="section-number">5.1. </span>Comparables and comparators in Java<a class="headerlink" href="#comparables-and-comparators-in-java" title="Permalink to this headline">¶</a></h2>
<p>In Java there are two main ways of comparing objects. The one that most people find easier to understand is <em>comparable</em>. But there is an alternative, <em>comparator</em>, which is very useful.</p>
<p>As a running example we use a class for persons:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">String</span> <span class="n">givenName_</span><span class="p">;</span>
    <span class="n">String</span> <span class="n">familyName_</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">birthYear_</span><span class="p">;</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">givenName</span><span class="p">()</span>  <span class="p">{</span> <span class="k">return</span> <span class="n">givenName_</span>  <span class="p">;</span> <span class="p">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">familyName</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">familyName_</span> <span class="p">;</span> <span class="p">}</span>
    <span class="kd">public</span> <span class="kt">int</span>    <span class="nf">birthYear</span><span class="p">()</span>  <span class="p">{</span> <span class="k">return</span> <span class="n">birthYear_</span>  <span class="p">;</span> <span class="p">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">givenName</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">familyName</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; (&quot;</span> <span class="o">+</span> <span class="n">birthYear</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;)&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also, let’s create an array of persons that we can use later:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>    <span class="kd">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="nf">getPeople</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">people</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Unsuk&quot;</span><span class="p">,</span> <span class="s">&quot;Chin&quot;</span><span class="p">,</span> <span class="mi">1961</span><span class="p">));</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Anna&quot;</span><span class="p">,</span> <span class="s">&quot;Thorvaldsdóttir&quot;</span><span class="p">,</span> <span class="mi">1977</span><span class="p">));</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Andrea&quot;</span><span class="p">,</span> <span class="s">&quot;Tarrodi&quot;</span><span class="p">,</span> <span class="mi">1981</span><span class="p">));</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Diana&quot;</span><span class="p">,</span> <span class="s">&quot;Čemerytė&quot;</span><span class="p">,</span> <span class="mi">1974</span><span class="p">));</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Elfrida&quot;</span><span class="p">,</span> <span class="s">&quot;Andrée&quot;</span><span class="p">,</span> <span class="mi">1841</span><span class="p">));</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Guy&quot;</span><span class="p">,</span> <span class="s">&quot;d’Hardelot&quot;</span><span class="p">,</span> <span class="mi">1858</span><span class="p">));</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Nadia&quot;</span><span class="p">,</span> <span class="s">&quot;Boulanger&quot;</span><span class="p">,</span> <span class="mi">1887</span><span class="p">));</span>
        <span class="n">people</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Person</span><span class="p">(</span><span class="s">&quot;Lili&quot;</span><span class="p">,</span> <span class="s">&quot;Boulanger&quot;</span><span class="p">,</span> <span class="mi">1893</span><span class="p">));</span>
        <span class="k">return</span> <span class="n">people</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>Now we can print the list:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">people</span> <span class="o">=</span> <span class="n">getPeople</span><span class="p">();</span>
	<span class="n">people</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p>Which results in:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Unsuk Chin (1961)</div>
<div class="line">Anna Thorvaldsdóttir (1977)</div>
<div class="line">Andrea Tarrodi (1981)</div>
<div class="line">Diana Čemerytė (1974)</div>
<div class="line">Elfrida Andrée (1841)</div>
<div class="line">Guy d’Hardelot (1857)</div>
<div class="line">Nadia Boulanger (1887)</div>
<div class="line">Lili Boulanger (1893)</div>
</div>
</div></blockquote>
</div>
<div class="section" id="comparables">
<h2>1.<span class="section-number">5.2. </span>Comparables<a class="headerlink" href="#comparables" title="Permalink to this headline">¶</a></h2>
<p>With the Comparable interface we can define “natural ordering” for a class (<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html">Java 8 Comparable</a>):</p>
<div id="BaseAPI_ComparableADT_code"><ul><li><a href="#BaseAPI_ComparableADT_code_Pseudo">Pseudo-Code</a></li><li><a href="#BaseAPI_ComparableADT_code_Java_Generic">Java</a></li><li><a href="#BaseAPI_ComparableADT_code_Python">Python</a></li></ul><div id="BaseAPI_ComparableADT_code_Pseudo"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span> <span class="nf">Comparable</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
    <span class="n">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">:</span><span class="n">E</span><span class="p">)</span> <span class="p">:</span> <span class="kt">int</span>   <span class="c1">// Returns &lt;0 if this&lt;other, 0 if this==other, &gt;0 if this&gt;other.</span>
    <span class="c1">// Note: Python uses a range of basic comparisons instead.</span>
</pre></div>
</div>
</div><div id="BaseAPI_ComparableADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is the same as the java.lang.Comparable interface</span>
<span class="kd">interface</span> <span class="nc">Comparable</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="nf">compareTo</span><span class="p">(</span><span class="n">E</span> <span class="n">other</span><span class="p">);</span>  <span class="c1">// Returns &lt;0 if this&lt;other, 0 if this==other, &gt;0 if this&gt;other.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="BaseAPI_ComparableADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note: by implementing these methods,</span>
<span class="c1"># one can use the standard Python comparison operators (==, !=, &lt;, &lt;=, &gt;, &gt;=).</span>
<span class="k">class</span> <span class="nc">Comparable</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Test if self == other.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Test if self != other.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Test if self &lt; other.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Test if self &lt;= other.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Test if self &gt; other.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span> <span class="s2">&quot;&quot;&quot;Test if self &gt;= other.&quot;&quot;&quot;</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#BaseAPI_ComparableADT_code" ).tabs();});</script><p>Let’s say that we want the natural ordering to be to compare persons by their family name. Then we let <code class="docutils literal notranslate"><span class="pre">Person</span></code> implement the <code class="docutils literal notranslate"><span class="pre">Comparable</span></code> interface by overriding <code class="docutils literal notranslate"><span class="pre">.compareTo(…)</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="c1">// ...as above...</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="p">(</span><span class="n">Person</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="na">familyName</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">familyName</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now we can sort our people array according to family name:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">people</span> <span class="o">=</span> <span class="n">getPeople</span><span class="p">();</span> <span class="c1">// reset the people list</span>
        <span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">people</span><span class="p">);</span>
	<span class="n">people</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p>Resulting in:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Elfrida Andrée (1841)</div>
<div class="line">Nadia Boulanger (1887)</div>
<div class="line">Lili Boulanger (1893)</div>
<div class="line">Unsuk Chin (1961)</div>
<div class="line">Andrea Tarrodi (1981)</div>
<div class="line">Anna Thorvaldsdóttir (1977)</div>
<div class="line">Guy d’Hardelot (1857)</div>
<div class="line">Diana Čemerytė (1974)</div>
</div>
</div></blockquote>
<p>Two things to note, which we address later:</p>
<ol class="arabic simple">
<li><p>Guy d’Hardelot and Diana Čemerytė come last – this is because <code class="docutils literal notranslate"><span class="pre">.compareTo(…)</span></code> gives a case-sensitive ordering and doesn’t care ignore diacritics</p></li>
<li><p>Nadia Boulanger comes before Lili, even though L comes before N in the alphabet</p></li>
</ol>
</div>
<div class="section" id="comparators-the-old-way">
<h2>1.<span class="section-number">5.3. </span>Comparators, the old way<a class="headerlink" href="#comparators-the-old-way" title="Permalink to this headline">¶</a></h2>
<p>What if we sometimes want to sort the list according to some other ordering, e.g., birth year or given name? Enter <em>comparators</em>, and here is the interface (<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html">Java 8 Comparator</a>):</p>
<div id="BaseAPI_ComparatorADT_code"><ul><li><a href="#BaseAPI_ComparatorADT_code_Pseudo">Pseudo-Code</a></li><li><a href="#BaseAPI_ComparatorADT_code_Java_Generic">Java</a></li><li><a href="#BaseAPI_ComparatorADT_code_Python">Python</a></li></ul><div id="BaseAPI_ComparatorADT_code_Pseudo"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span> <span class="nf">Comparator</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
    <span class="n">compareTo</span><span class="p">(</span><span class="n">one</span><span class="p">:</span><span class="n">E</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="p">:</span> <span class="kt">int</span>   <span class="c1">// Returns &lt;0 if one&lt;other, 0 if one==other, &gt;0 if one&gt;other.</span>
    <span class="c1">// Note: Python prefers to use a key extraction function instead.</span>
</pre></div>
</div>
</div><div id="BaseAPI_ComparatorADT_code_Java_Generic"><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Note: This is a subset of the java.util.Comparator interface</span>
<span class="kd">interface</span> <span class="nc">Comparator</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="nf">compare</span><span class="p">(</span><span class="n">E</span> <span class="n">one</span><span class="p">,</span> <span class="n">E</span> <span class="n">other</span><span class="p">);</span>  <span class="c1">// Returns &lt;0 if one&lt;other, 0 if one==other, &gt;0 if one&gt;other.</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div id="BaseAPI_ComparatorADT_code_Python"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Python doesn&#39;t use the same interface for comparators as Java does.</span>
<span class="c1"># Instead they advocate to use a *key extractor*, which is a function</span>
<span class="c1"># that converts an element to another element which then can be compared</span>
<span class="c1"># using the natural ordering.</span>
</pre></div>
</div>
</div></div><script>$(function() {$( "#BaseAPI_ComparatorADT_code" ).tabs();});</script><p>To use this we have to implement a separate class for each ordering we want to use. Here’s one for comparing birth year:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">BirthYearComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="p">(</span><span class="n">Person</span> <span class="n">one</span><span class="p">,</span> <span class="n">Person</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Integer</span><span class="p">.</span><span class="na">compare</span><span class="p">(</span><span class="n">one</span><span class="p">.</span><span class="na">birthYear</span><span class="p">(),</span> <span class="n">other</span><span class="p">.</span><span class="na">birthYear</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>Notes</em>:</p>
<ol class="arabic simple">
<li><p>Don’t compare numbers by using subtraction! This might lead to overflow and rounding errors. Instead use the static <code class="docutils literal notranslate"><span class="pre">.compare(…)</span></code> methods that are built into the number classes (<code class="docutils literal notranslate"><span class="pre">Integer</span></code>, <code class="docutils literal notranslate"><span class="pre">Double</span></code>, etc).</p></li>
<li><p>Since numbers are not objects, you cannot use <code class="docutils literal notranslate"><span class="pre">one.birthYear.compareTo(…)</span></code>. You can do <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">Integer(one.birthYear).compareTo(…)</span></code>, or you can use <code class="docutils literal notranslate"><span class="pre">Integer.compare(…)</span></code> as above.</p></li>
</ol>
<p>And here’s the class for comparing by given name:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">GivenNameComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="p">(</span><span class="n">Person</span> <span class="n">one</span><span class="p">,</span> <span class="n">Person</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">one</span><span class="p">.</span><span class="na">givenName</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">givenName</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To use them you have to first create an object, i.e., instantiate the comparator:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">byBirthYear</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BirthYearComparator</span><span class="p">();</span>
        <span class="n">people</span> <span class="o">=</span> <span class="n">getPeople</span><span class="p">();</span> <span class="c1">// reset the people list</span>
        <span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">byBirthYear</span><span class="p">);</span>
	<span class="n">people</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p>Result:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Elfrida Andrée (1841)</div>
<div class="line">Guy d’Hardelot (1857)</div>
<div class="line">Nadia Boulanger (1887)</div>
<div class="line">Lili Boulanger (1893)</div>
<div class="line">Unsuk Chin (1961)</div>
<div class="line">Diana Čemerytė (1974)</div>
<div class="line">Anna Thorvaldsdóttir (1977)</div>
<div class="line">Andrea Tarrodi (1981)</div>
</div>
</div></blockquote>
<p>And similar for given names:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">byGivenName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GivenNameComparator</span><span class="p">();</span>
        <span class="n">people</span> <span class="o">=</span> <span class="n">getPeople</span><span class="p">();</span> <span class="c1">// reset the people list</span>
        <span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">byGivenName</span><span class="p">);</span>
	<span class="n">people</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p>Result:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Andrea Tarrodi (1981)</div>
<div class="line">Anna Thorvaldsdóttir (1977)</div>
<div class="line">Diana Čemerytė (1974)</div>
<div class="line">Elfrida Andrée (1841)</div>
<div class="line">Guy d’Hardelot (1857)</div>
<div class="line">Lili Boulanger (1893)</div>
<div class="line">Nadia Boulanger (1887)</div>
<div class="line">Unsuk Chin (1961)</div>
</div>
</div></blockquote>
</div>
<div class="section" id="comparators-the-new-functional-interface-in-java-8">
<h2>1.<span class="section-number">5.4. </span>Comparators, the new functional interface in Java 8<a class="headerlink" href="#comparators-the-new-functional-interface-in-java-8" title="Permalink to this headline">¶</a></h2>
<p>Since Java 8, there’s a functional interface which can be used to build comparators (and many other things). So we don’t have to write the class definitions, and instead write similar to we would do in Python or Haskell:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">byBirthYear</span> <span class="o">=</span> <span class="p">(</span><span class="n">one</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Integer</span><span class="p">.</span><span class="na">compare</span><span class="p">(</span><span class="n">one</span><span class="p">.</span><span class="na">birthYear</span><span class="p">(),</span> <span class="n">other</span><span class="p">.</span><span class="na">birthYear</span><span class="p">());</span>
        <span class="n">byGivenName</span> <span class="o">=</span> <span class="p">(</span><span class="n">one</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">one</span><span class="p">.</span><span class="na">givenName</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">givenName</span><span class="p">());</span>
</pre></div>
</div>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Comparator&lt;Person&gt; bybirthYear = (one, other) -&gt;
    Integer.compare(one.birthYear, other.birthYear)

Comparator&lt;Person&gt; byGivenName = (one, other) -&gt;
    one.givenName.compareTo(other.givenName)
</pre></div>
</div>
<p>Yay! That’s a lot nicer than the clumsy class definition
(<code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">BirthYearComparator</span> <span class="pre">implements</span> <span class="pre">Comparator&lt;Person&gt;</span></code>, etc).</p>
</div>
<div class="section" id="comparing-fields-using-key-extractors">
<h2>1.<span class="section-number">5.5. </span>Comparing fields using key extractors<a class="headerlink" href="#comparing-fields-using-key-extractors" title="Permalink to this headline">¶</a></h2>
<p>In many cases (including our example case), we only want to compare some fields in a class. Then we can use <em>key extractors</em> to simplify even more:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">byBirthYear</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">.</span><span class="na">comparingInt</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">birthYear</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">byGivenName</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">.</span><span class="na">comparing</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">givenName</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Comparator&lt;Person&gt; byBirthYear = Comparator.comparingInt(Person::birthYear)

Comparator&lt;Person&gt; byGivenName = Comparator.comparing(Person::givenName)
</pre></div>
</div>
<ul class="simple">
<li><p><em>Note</em>: We use <code class="docutils literal notranslate"><span class="pre">.comparingInt(…)</span></code> when defining <code class="docutils literal notranslate"><span class="pre">byBirthYear</span></code>. It’s not strictly necessary (i.e., we can use <code class="docutils literal notranslate"><span class="pre">.comparing(…)</span></code>), but it makes things slightly more efficient.</p></li>
</ul>
</div>
<div class="section" id="comparing-several-fields">
<h2>1.<span class="section-number">5.6. </span>Comparing several fields<a class="headerlink" href="#comparing-several-fields" title="Permalink to this headline">¶</a></h2>
<p>Remember the natural ordering? The problem with only comparing the family name is that if two persons have the same they keep their internal order. So, Nadia Boulanger comes before Lili Boulanger even though L precedes N in the alphabet.</p>
<p>What we want is to be able to compare several fields. The old and not-so-good solution is to use clumsy if-then-elses, like this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">FullNameComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="p">(</span><span class="n">Person</span> <span class="n">one</span><span class="p">,</span> <span class="n">Person</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">cmp</span> <span class="o">=</span> <span class="n">one</span><span class="p">.</span><span class="na">familyName</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">familyName</span><span class="p">());</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">cmp</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">cmp</span><span class="p">;</span>
        <span class="n">cmp</span> <span class="o">=</span> <span class="n">one</span><span class="p">.</span><span class="na">givenName</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">givenName</span><span class="p">());</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">cmp</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">cmp</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After this we can instantiate a specific comparator:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">byFullName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FullNameComparator</span><span class="p">();</span>
</pre></div>
</div>
<p>If we have many fields this gets quite cumbersome (and error-prone). But using the functional interface, and the magic <code class="docutils literal notranslate"><span class="pre">.thenComparing(…)</span></code> method, it’s really easy:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">byFullName</span> <span class="o">=</span> <span class="n">Comparator</span><span class="p">.</span><span class="na">comparing</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">familyName</span><span class="p">)</span>
                     <span class="p">.</span><span class="na">thenComparing</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">givenName</span><span class="p">);</span>
</pre></div>
</div>
<p>And here it is in action:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">people</span> <span class="o">=</span> <span class="n">getPeople</span><span class="p">();</span> <span class="c1">// reset the people list</span>
        <span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">byFullName</span><span class="p">);</span>
	<span class="n">people</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p>Result:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Elfrida Andrée (1841)</div>
<div class="line">Lili Boulanger (1893)</div>
<div class="line">Nadia Boulanger (1887)</div>
<div class="line">Unsuk Chin (1961)</div>
<div class="line">Andrea Tarrodi (1981)</div>
<div class="line">Anna Thorvaldsdóttir (1977)</div>
<div class="line">Guy d’Hardelot (1857)</div>
<div class="line">Diana Čemerytė (1974)</div>
</div>
</div></blockquote>
<p>As you can see, Lili now comes before Nadia. But there’s still the problem with Guy and Diana coming last in the list.</p>
</div>
<div class="section" id="case-insensitive-and-language-specific-comparisons">
<h2>1.<span class="section-number">5.7. </span>Case-insensitive and language-specific comparisons<a class="headerlink" href="#case-insensitive-and-language-specific-comparisons" title="Permalink to this headline">¶</a></h2>
<p>The Java String class has a method <code class="docutils literal notranslate"><span class="pre">.compareToIgnoringCase(…)</span></code> which is what it sounds like.</p>
<p>But you shouldn’t use it if you’re serious about handling text correctly. This is because strings are no longer ASCII, but Unicode. And Unicode is a beast of its own – it knows how to write hundreds of different alphabets with diacritics and other special characters. (Unicode even knows about bidirectional text (left-to-right vs right-to-left), but we won’t discuss that here).</p>
<p>Now, correct string sorting depends on your locale. E.g., in Swedish we put Å, Ä, Ö at the end of the alphabet, while Á, Ô, È are mixed together with A, O, E, respectively. Also, it’s common to mix V and W in Swedish dictionaries. German on the other hand mixes Ä, Ö with A, O. And it sorts ß together with S.</p>
<p>So, here’s how to define a correct comparator for Swedish, which ignores case differences and orders according to Swedish locale:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">Collator</span> <span class="n">swedishLocale</span> <span class="o">=</span> <span class="n">Collator</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="k">new</span> <span class="n">Locale</span><span class="p">(</span><span class="s">&quot;sv&quot;</span><span class="p">,</span> <span class="s">&quot;SE&quot;</span><span class="p">));</span>
	<span class="n">swedishLocale</span><span class="p">.</span><span class="na">setStrength</span><span class="p">(</span><span class="n">Collator</span><span class="p">.</span><span class="na">PRIMARY</span><span class="p">);</span>
	<span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">bySwedishLocale</span> <span class="o">=</span> 
            <span class="n">Comparator</span><span class="p">.</span><span class="na">comparing</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">familyName</span><span class="p">,</span> <span class="n">swedishLocale</span><span class="p">)</span>
            <span class="p">.</span><span class="na">thenComparing</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">givenName</span><span class="p">,</span> <span class="n">swedishLocale</span><span class="p">);</span>
</pre></div>
</div>
<p>And in action:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span>        <span class="n">people</span> <span class="o">=</span> <span class="n">getPeople</span><span class="p">();</span> <span class="c1">// reset the people list</span>
        <span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">bySwedishLocale</span><span class="p">);</span>
	<span class="n">people</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</pre></div>
</div>
<p>Result:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Elfrida Andrée (1841)</div>
<div class="line">Lili Boulanger (1893)</div>
<div class="line">Nadia Boulanger (1887)</div>
<div class="line">Diana Čemerytė (1974)</div>
<div class="line">Unsuk Chin (1961)</div>
<div class="line">Guy d’Hardelot (1857)</div>
<div class="line">Andrea Tarrodi (1981)</div>
<div class="line">Anna Thorvaldsdóttir (1977)</div>
</div>
</div></blockquote>
<p>Finally Diana Čemerytė and Guy d’Hardelot find their right places in the list!</p>
</div>
<div class="section" id="running-the-program">
<h2>1.<span class="section-number">5.8. </span>Running the program<a class="headerlink" href="#running-the-program" title="Permalink to this headline">¶</a></h2>
<p>If you don’t want to write this up as a Java program, you can find it here: ComparatorDemo.java . Just compile and run it without any arguments.</p>
</div>
<div class="section" id="and-what-about-the-names">
<h2>1.<span class="section-number">5.9. </span>…and what about the names?<a class="headerlink" href="#and-what-about-the-names" title="Permalink to this headline">¶</a></h2>
<p>The names are taken from here: <a class="reference external" href="https://female-composers.forts.se/">https://female-composers.forts.se/</a></p>
</div>
</div>


      </div>
      <div class="bottomnav">
      <p><span class="email_div" style="display:inline;"><a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a><a style="float:left;color:blue;" rel="nofollow" href="../../../lib/Privacy.html" target="_blank">| Privacy |</a> <a style="float:left;color:blue;" rel="nofollow" href="../../../lib/license.html" target="_blank">| License</a></span>&#160;&#160;
      
        «&#160;&#160;<a id="prevmod1" href="Comparison.html">1.<span class="section-number">4. </span>Comparing Records</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod1" href="Dictionary.html">1.<span class="section-number">6. </span>Maps or Dictionaries</a>&#160;&#160;»

</p>
      </div>
      <img style="float:right;" src="_static/nsf1.gif" height="62" width="62" alt="nsf"/>


    <div class="footer">
      <p>
        <span class="email_div" style="display:inline;">
          <a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a>
          <a id="bugreport-link" style="float:left;color:blue;" class="bugreport-link" href="#">| Report a bug</a>
        </span>
      </p>
        &copy; Copyright 2016 by OpenDSA Project Contributors and distributed under an MIT license.
      Last updated on Oct 20, 2021.
      Created using <a target="_blank" href="http://sphinx.pocoo.org/">Sphinx</a> 2.4.4.
    </div>
    
<div id="bugreport-box" class="bugreport-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="report" action="https://#">
    <fieldset class="textbox">
      <div id="bug_error" class="error"></div>
      <label>
        <span>Summary*:</span>
        <input type="text" id="b_title" placeholder="Summary" />
      </label>

      <label class="os">
        <span>Operating system*:</span>
        <select id="b_os">
          <option value="windows">Windows</option>
          <option value="macos">Mac OS</option>
          <option value="linux">Linux</option>
          <option value="ios">iOS</option>
          <option value="android">Android</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="browser">
        <span>Browser*:</span>
        <select id="b_browser">
          <option value="chrome">Chrome</option>
          <option value="safari">Safari</option>
          <option value="internetexplorer">Internet Explorer</option>
          <option value="opera">Opera</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="description">
        <span>Description*:</span><br>
        <textarea id="b_description" rows="5" cols="25" placeholder="***BUG** Please enter: (1) a consice description of the problem. (2) steps to reproduce bug. (3) the version of your browser and operating system."></textarea>
      </label>

      <label class="screenshot">
        <span>Attach a screenshot (optional):</span>
        <input type="file" id="b_screenshot" accept="image/*" placeholder="Attach a screenshot (optional)">
      </label>

      <p>
        <input type="submit" id="bug-submit-button" value="Submit &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>

  </body>
</html>